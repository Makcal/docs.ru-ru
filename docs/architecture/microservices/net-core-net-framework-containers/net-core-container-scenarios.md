---
title: Выбор .NET 5 для контейнеров Docker
description: Архитектура микрослужб .NET для упакованных в контейнеры приложений .NET | Выбор .NET для контейнеров Docker
ms.date: 02/02/2021
ms.openlocfilehash: d0480ac43c0090b72185bd23bbd11ac7e26001e6
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99653424"
---
# <a name="when-to-choose-net-for-docker-containers"></a><span data-ttu-id="3e3bf-103">Выбор .NET для контейнеров Docker</span><span class="sxs-lookup"><span data-stu-id="3e3bf-103">When to choose .NET for Docker containers</span></span>

<span data-ttu-id="3e3bf-104">Благодаря модульности и упрощенному характеру .NET 5 идеально подходит для контейнеров.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-104">The modularity and lightweight nature of .NET 5 makes it perfect for containers.</span></span> <span data-ttu-id="3e3bf-105">При развертывании и запуске контейнера размер его образа гораздо меньше в среде .NET 5.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-105">When you deploy and start a container, its image is far smaller with .NET 5 than with .NET Framework.</span></span> <span data-ttu-id="3e3bf-106">Напротив, при использовании .NET Framework для контейнера необходимо использовать Windows Server Core в качестве базового образа, который занимает гораздо больше места, чем образ Nano Windows Server или Linux, которые используются для .NET 5.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-106">In contrast, to use .NET Framework for a container, you must base your image on the Windows Server Core image, which is a lot heavier than the Windows Nano Server or Linux images that you use for .NET 5.</span></span>

<span data-ttu-id="3e3bf-107">Кроме того, платформа .NET 5 является кроссплатформенной, поэтому вы можете разворачивать серверные приложения в Linux и Windows контейнерах.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-107">Additionally, .NET 5 is cross-platform, so you can deploy server apps with Linux or Windows container images.</span></span> <span data-ttu-id="3e3bf-108">Однако при использовании традиционной .NET Framework можно развернуть только образ, основанный на Windows Server Core.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-108">However, if you are using the traditional .NET Framework, you can only deploy images based on Windows Server Core.</span></span>

<span data-ttu-id="3e3bf-109">Ниже более подробно описаны преимущества .NET 5.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-109">The following is a more detailed explanation of why to choose .NET 5.</span></span>

## <a name="developing-and-deploying-cross-platform"></a><span data-ttu-id="3e3bf-110">Разработка и развертывание на различных платформах</span><span class="sxs-lookup"><span data-stu-id="3e3bf-110">Developing and deploying cross platform</span></span>

<span data-ttu-id="3e3bf-111">Очевидно, что если ваша цель — приложение (веб-приложение или служба), которое можно запускать на нескольких платформах, поддерживаемых в Docker (Linux и Windows), целесообразно выбрать .NET 5, так как платформа .NET Framework поддерживает только Windows.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-111">Clearly, if your goal is to have an application (web app or service) that can run on multiple platforms supported by Docker (Linux and Windows), the right choice is .NET 5, because .NET Framework only supports Windows.</span></span>

<span data-ttu-id="3e3bf-112">.NET 5 также поддерживает macOS в качестве платформы разработки.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-112">.NET 5 also supports macOS as a development platform.</span></span> <span data-ttu-id="3e3bf-113">Тем не менее при развертывании контейнеров на узле Docker этот узел должен (в настоящее время) базироваться на Windows или Linux.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-113">However, when you deploy containers to a Docker host, that host must (currently) be based on Linux or Windows.</span></span> <span data-ttu-id="3e3bf-114">Например, в среде разработки можно использовать виртуальную машину с Linux, запущенную на компьютере с Mac.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-114">For example, in a development environment, you could use a Linux VM running on a Mac.</span></span>

<span data-ttu-id="3e3bf-115">[Visual Studio](https://www.visualstudio.com/vs/) предоставляет интегрированную среду разработки (IDE) для Windows и поддерживает разработку с использованием Docker.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-115">[Visual Studio](https://www.visualstudio.com/vs/) provides an integrated development environment (IDE) for Windows and supports Docker development.</span></span>

<span data-ttu-id="3e3bf-116">[Visual Studio для Mac](https://www.visualstudio.com/vs/visual-studio-mac/) — это интегрированная среда разработки, которая является эволюцией Xamarin Studio, выполняется в macOS и поддерживает разработку приложений на основе Docker.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-116">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/) is an IDE, evolution of Xamarin Studio, that runs on macOS and supports Docker-based application development.</span></span> <span data-ttu-id="3e3bf-117">Этот инструмент должен быть предпочтительным вариантом для разработчиков, которые работают на компьютерах с Mac и хотят использовать мощную интегрированную среду разработки.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-117">This tool should be the preferred choice for developers working in Mac machines who also want to use a powerful IDE.</span></span>

<span data-ttu-id="3e3bf-118">Редактор [Visual Studio Code](https://code.visualstudio.com/) можно также использовать в macOS, Linux и Windows.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-118">You can also use [Visual Studio Code](https://code.visualstudio.com/) on macOS, Linux, and Windows.</span></span> <span data-ttu-id="3e3bf-119">Visual Studio Code полностью поддерживает .NET 5, включая технологию IntelliSense и отладку.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-119">Visual Studio Code fully supports .NET 5, including IntelliSense and debugging.</span></span> <span data-ttu-id="3e3bf-120">Так как VS Code является упрощенным редактором, для разработки контейнерных приложений на компьютере его можно использовать в сочетании с Docker CLI и [.NET CLI](../../../core/tools/index.md).</span><span class="sxs-lookup"><span data-stu-id="3e3bf-120">Because VS Code is a lightweight editor, you can use it to develop containerized apps on the machine in conjunction with the Docker CLI and the [.NET CLI](../../../core/tools/index.md).</span></span> <span data-ttu-id="3e3bf-121">Для разработки на платформе .NET 5 также можно использовать большинство сторонних редакторов, например Sublime, Emacs, vi и проект с открытым кодом OmniSharp, который также поддерживает технологию IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-121">You can also target .NET 5 with most third-party editors like Sublime, Emacs, vi, and the open-source OmniSharp project, which also provides IntelliSense support.</span></span>

<span data-ttu-id="3e3bf-122">Наряду с интегрированными средами разработки и редакторами для всех поддерживаемых платформ вы можете использовать [.NET CLI](../../../core/tools/index.md).</span><span class="sxs-lookup"><span data-stu-id="3e3bf-122">In addition to the IDEs and editors, you can use the [.NET CLI](../../../core/tools/index.md) for all supported platforms.</span></span>

## <a name="using-containers-for-new-green-field-projects"></a><span data-ttu-id="3e3bf-123">Использование контейнеров для новых ("с нуля") проектов</span><span class="sxs-lookup"><span data-stu-id="3e3bf-123">Using containers for new ("green-field") projects</span></span>

<span data-ttu-id="3e3bf-124">Контейнеры обычно используются в сочетании с архитектурой микрослужб, хотя их также можно использовать для упаковки веб-приложений или служб, созданных на базе любого архитектурного шаблона.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-124">Containers are commonly used in conjunction with a microservices architecture, although they can also be used to containerize web apps or services that follow any architectural pattern.</span></span> <span data-ttu-id="3e3bf-125">Среду .NET Framework можно использовать для контейнеров Windows, но упрощенный характер и модульный принцип среды .NET 5 делают ее оптимальной для контейнеров и архитектуры микрослужб.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-125">You can use .NET Framework on Windows Containers, but the modularity and lightweight nature of .NET 5 makes it perfect for containers and microservices architectures.</span></span> <span data-ttu-id="3e3bf-126">При создании и развертывании контейнера размер его образа гораздо меньше в среде .NET 5, чем в .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-126">When you create and deploy a container, its image is far smaller with .NET 5 than with .NET Framework.</span></span>

## <a name="create-and-deploy-microservices-on-containers"></a><span data-ttu-id="3e3bf-127">Создание и развертывание микрослужб в контейнерах</span><span class="sxs-lookup"><span data-stu-id="3e3bf-127">Create and deploy microservices on containers</span></span>

<span data-ttu-id="3e3bf-128">Традиционный .NET Framework можно использовать для создания приложений на основе микрослужб (без контейнеров) с помощью простых процессов.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-128">You could use the traditional .NET Framework for building microservices-based applications (without containers) by using plain processes.</span></span> <span data-ttu-id="3e3bf-129">Платформа .NET Framework уже установлена и совместно используется процессами, поэтому в этом случае процессы небольшие по размеру и быстро выполняются.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-129">That way, because the .NET Framework is already installed and shared across processes, processes are light and fast to start.</span></span> <span data-ttu-id="3e3bf-130">Но при использовании контейнеров образы для традиционного .NET Framework основаны на Windows Server Core, что делает их слишком большими для подхода "микрослужбы в контейнерах".</span><span class="sxs-lookup"><span data-stu-id="3e3bf-130">However, if you are using containers, the image for the traditional .NET Framework is also based on Windows Server Core and that makes it too heavy for a microservices-on-containers approach.</span></span> <span data-ttu-id="3e3bf-131">При этом командам требуются возможности сделать .NET Framework удобнее для пользователей.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-131">However, teams have been looking for opportunities to improve the experience for .NET Framework users as well.</span></span> <span data-ttu-id="3e3bf-132">Недавно размер [образов контейнеров Windows Server Core уменьшился более чем на 40 %](https://devblogs.microsoft.com/dotnet/we-made-windows-server-core-container-images-40-smaller).</span><span class="sxs-lookup"><span data-stu-id="3e3bf-132">Recently, size of the [Windows Server Core container images have been reduced to >40% smaller](https://devblogs.microsoft.com/dotnet/we-made-windows-server-core-container-images-40-smaller).</span></span>

<span data-ttu-id="3e3bf-133">С другой стороны, .NET 5 благодаря упрощенному характеру является наилучшим выбором, если вы используете ориентированную на микрослужбы систему, которая основана на контейнерах.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-133">On the other hand, .NET 5 is the best candidate if you're embracing a microservices-oriented system that is based on containers, because .NET 5 is lightweight.</span></span> <span data-ttu-id="3e3bf-134">Кроме того, связанные с NET Core образы, как для Linux, так и для Windows Nano Server, являются компактными и небольшими по размеру, что обеспечивает их быстрый запуск.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-134">In addition, its related container images, for either Linux or Windows Nano Server, are lean and small, making containers light and fast to start.</span></span>

<span data-ttu-id="3e3bf-135">Термин "микрослужба" означает, что она должна быть настолько маленькой, насколько это возможно, чтобы обеспечивать быстрое развертывание, занимать мало места в памяти (см. статью о [проблемно-ориентированном проектировании](https://en.wikipedia.org/wiki/Domain-driven_design)), решать небольшую часть задачи и быть способной к быстрому запуску и остановке.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-135">A microservice is meant to be as small as possible: to be light when spinning up, to have a small footprint, to have a small Bounded Context (check DDD, [Domain-Driven Design](https://en.wikipedia.org/wiki/Domain-driven_design)), to represent a small area of concerns, and to be able to start and stop fast.</span></span> <span data-ttu-id="3e3bf-136">Для выполнения этих требований необходимо использовать небольшой и быстро создаваемый образ контейнера, такой как образ контейнера .NET 5.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-136">For those requirements, you will want to use small and fast-to-instantiate container images like the .NET 5 container image.</span></span>

<span data-ttu-id="3e3bf-137">Архитектура микрослужб также позволяет использовать сочетание технологий за пределами службы.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-137">A microservices architecture also allows you to mix technologies across a service boundary.</span></span> <span data-ttu-id="3e3bf-138">Благодаря этому возможна постепенная миграция на технологию .NET 5 новых служб, которые работают совместно с другими микрослужбами или со службами, разработанными с помощью Node.js, Python, Java, GoLang и других технологий.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-138">This approach enables a gradual migration to .NET 5 for new microservices that work in conjunction with other microservices or with services developed with Node.js, Python, Java, GoLang, or other technologies.</span></span>

## <a name="deploying-high-density-in-scalable-systems"></a><span data-ttu-id="3e3bf-139">Развертывание с высокой плотностью в масштабируемых системах</span><span class="sxs-lookup"><span data-stu-id="3e3bf-139">Deploying high density in scalable systems</span></span>

<span data-ttu-id="3e3bf-140">Если для вашей системы, основанной на контейнерах, требуется максимально возможная плотность, детализация и производительность, то мы рекомендуем использовать .NET и ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-140">When your container-based system needs the best possible density, granularity, and performance, .NET and ASP.NET Core are your best options.</span></span> <span data-ttu-id="3e3bf-141">Среда ASP.NET Core в 10 раз быстрее, чем ASP.NET в традиционном .NET Framework, и поддерживает другие популярные отраслевые технологии микрослужб, такие как сервлеты Java, Go и Node.js.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-141">ASP.NET Core is up to 10 times faster than ASP.NET in the traditional .NET Framework, and it leads other popular industry technologies for microservices, such as Java servlets, Go, and Node.js.</span></span>

<span data-ttu-id="3e3bf-142">Это особенно важно для архитектур микрослужб, где могут выполняться сотни микрослужб (контейнеров).</span><span class="sxs-lookup"><span data-stu-id="3e3bf-142">This approach is especially relevant for microservices architectures, where you could have hundreds of microservices (containers) running.</span></span> <span data-ttu-id="3e3bf-143">Образы ASP.NET Core (основанные на среде выполнения .NET) на Windows Nano или Linux позволяют запустить систему с гораздо меньшим количеством серверов или виртуальных машин и, в конечном счете, снизить затраты на инфраструктуру и размещение.</span><span class="sxs-lookup"><span data-stu-id="3e3bf-143">With ASP.NET Core images (based on the .NET runtime) on Linux or Windows Nano, you can run your system with a much lower number of servers or VMs, ultimately saving costs in infrastructure and hosting.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="3e3bf-144">[Назад](general-guidance.md)
>[Вперед](net-framework-container-scenarios.md)</span><span class="sxs-lookup"><span data-stu-id="3e3bf-144">[Previous](general-guidance.md)
[Next](net-framework-container-scenarios.md)</span></span>
