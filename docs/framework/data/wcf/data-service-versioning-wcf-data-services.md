---
description: 'Дополнительные сведения: Управление версиями службы данных (службы данных WCF)'
title: Управление версиями службы данных (службы WCF Data Services)
ms.date: 03/30/2017
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
ms.openlocfilehash: 5b08d9d822fc9dd8be4cd4614f8a5536bf98fd43
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99766144"
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="350f9-103">Управление версиями службы данных (службы WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="350f9-103">Data Service Versioning (WCF Data Services)</span></span>

[!INCLUDE [wcf-deprecated](~/includes/wcf-deprecated.md)]

<span data-ttu-id="350f9-104">Open Data Protocol (OData) позволяет создавать службы данных, чтобы клиенты могли получать доступ к данным как к ресурсам с помощью URI, основанных на модели данных.</span><span class="sxs-lookup"><span data-stu-id="350f9-104">The Open Data Protocol (OData) enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> <span data-ttu-id="350f9-105">OData также поддерживает определение операций службы.</span><span class="sxs-lookup"><span data-stu-id="350f9-105">OData also supports the definition of service operations.</span></span> <span data-ttu-id="350f9-106">После первоначального развертывания служб и, возможно, несколько раз на протяжении времени их существования возникает потребность в изменении этих служб. Причин тому немало: изменяющиеся потребности бизнеса, требования информационных технологий или необходимость решить какие-либо другие проблемы.</span><span class="sxs-lookup"><span data-stu-id="350f9-106">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="350f9-107">При внесении изменений в существующую службу данных необходимо принять решение, следует ли определить новую версию службы данных и как оптимальным способом свести к минимуму воздействие на существующие клиентские приложения.</span><span class="sxs-lookup"><span data-stu-id="350f9-107">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="350f9-108">Этот раздел содержит указания о том, когда и как следует создавать новую версию службы данных.</span><span class="sxs-lookup"><span data-stu-id="350f9-108">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="350f9-109">Здесь также описывается, как службы данных WCF обрабатывает обмен между клиентами и службами данных, которые поддерживают различные версии протокола OData.</span><span class="sxs-lookup"><span data-stu-id="350f9-109">It also describes how WCF Data Services handles an exchange between clients and data services that support different versions of the OData protocol.</span></span>

## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="350f9-110">Управление версиями службы данных WCF</span><span class="sxs-lookup"><span data-stu-id="350f9-110">Versioning a WCF Data Service</span></span>

 <span data-ttu-id="350f9-111">После того как служба данных развернута и данные получены, изменения в службе данных могут стать причиной несовместимости с существующими клиентскими приложениями.</span><span class="sxs-lookup"><span data-stu-id="350f9-111">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="350f9-112">Но поскольку изменения часто обусловлены общими бизнес-потребностями службы, необходимо решить, когда и как создать новую версию службы данных с минимальным воздействием на клиентские приложения.</span><span class="sxs-lookup"><span data-stu-id="350f9-112">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>

### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="350f9-113">Изменения в модели данных, при внесении которых рекомендуется перейти на новую версию службы данных</span><span class="sxs-lookup"><span data-stu-id="350f9-113">Data Model Changes that Recommend a New Data Service Version</span></span>

 <span data-ttu-id="350f9-114">При рассмотрении вопроса о необходимости публиковать новую версию службы данных важно понимать, как различные изменения могут повлиять на клиентские приложения.</span><span class="sxs-lookup"><span data-stu-id="350f9-114">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="350f9-115">Изменения в службе данных, которые могут привести к необходимости создать новую версию службы данных, можно разделить на следующие две категории.</span><span class="sxs-lookup"><span data-stu-id="350f9-115">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>

- <span data-ttu-id="350f9-116">Изменения в контракте службы, которые включают обновления операций службы, изменения в доступности наборов сущностей (каналы), изменения версии и другие изменения поведения службы.</span><span class="sxs-lookup"><span data-stu-id="350f9-116">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>

- <span data-ttu-id="350f9-117">Изменения в контракте данных, которые включают изменения в модели данных, форматах каналов или настройках каналов.</span><span class="sxs-lookup"><span data-stu-id="350f9-117">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>

 <span data-ttu-id="350f9-118">В следующей таблице приведены сведения, для каких видов изменений следует рассмотреть вопрос о публикации новой версии службы данных.</span><span class="sxs-lookup"><span data-stu-id="350f9-118">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>

|<span data-ttu-id="350f9-119">Тип изменения</span><span class="sxs-lookup"><span data-stu-id="350f9-119">Type of Change</span></span>|<span data-ttu-id="350f9-120">Требуется новая версия</span><span class="sxs-lookup"><span data-stu-id="350f9-120">Requires a new version</span></span>|<span data-ttu-id="350f9-121">Новая версия не нужна</span><span class="sxs-lookup"><span data-stu-id="350f9-121">New version not needed</span></span>|
|--------------------|----------------------------|----------------------------|
|<span data-ttu-id="350f9-122">Операции служб</span><span class="sxs-lookup"><span data-stu-id="350f9-122">Service operations</span></span>|<span data-ttu-id="350f9-123">-Добавить новый параметр</span><span class="sxs-lookup"><span data-stu-id="350f9-123">-   Add new parameter</span></span><br /><span data-ttu-id="350f9-124">-Изменить тип возвращаемого значения</span><span class="sxs-lookup"><span data-stu-id="350f9-124">-   Change return type</span></span><br /><span data-ttu-id="350f9-125">-Удаление операции службы</span><span class="sxs-lookup"><span data-stu-id="350f9-125">-   Remove service operation</span></span>|<span data-ttu-id="350f9-126">-Удалить существующий параметр</span><span class="sxs-lookup"><span data-stu-id="350f9-126">-   Delete existing parameter</span></span><br /><span data-ttu-id="350f9-127">-Добавить новую операцию службы</span><span class="sxs-lookup"><span data-stu-id="350f9-127">-   Add new service operation</span></span>|
|<span data-ttu-id="350f9-128">Поведения служб</span><span class="sxs-lookup"><span data-stu-id="350f9-128">Service behaviors</span></span>|<span data-ttu-id="350f9-129">— Отключение запросов счетчиков</span><span class="sxs-lookup"><span data-stu-id="350f9-129">-   Disable count requests</span></span><br /><span data-ttu-id="350f9-130">— Отключить поддержку проекции</span><span class="sxs-lookup"><span data-stu-id="350f9-130">-   Disable projection support</span></span><br /><span data-ttu-id="350f9-131">— Увеличение требуемой версии службы данных</span><span class="sxs-lookup"><span data-stu-id="350f9-131">-   Increase the required data service version</span></span>|<span data-ttu-id="350f9-132">— Включить запросы на подсчет</span><span class="sxs-lookup"><span data-stu-id="350f9-132">-   Enable count requests</span></span><br /><span data-ttu-id="350f9-133">— Включить поддержку проекций</span><span class="sxs-lookup"><span data-stu-id="350f9-133">-   Enable projection support</span></span><br /><span data-ttu-id="350f9-134">-Уменьшить требуемую версию службы данных</span><span class="sxs-lookup"><span data-stu-id="350f9-134">-   Decrease the required data service version</span></span>|
|<span data-ttu-id="350f9-135">Разрешения набора сущностей</span><span class="sxs-lookup"><span data-stu-id="350f9-135">Entity set permissions</span></span>|<span data-ttu-id="350f9-136">-Ограничить разрешения для набора сущностей</span><span class="sxs-lookup"><span data-stu-id="350f9-136">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="350f9-137">-Изменить код ответа (новое значение первой цифры) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="350f9-137">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="350f9-138">— Расстановка разрешений на набор сущностей</span><span class="sxs-lookup"><span data-stu-id="350f9-138">-   Relax entity set permissions</span></span><br /><span data-ttu-id="350f9-139">-Изменить код ответа (то же самое первое цифровое значение)</span><span class="sxs-lookup"><span data-stu-id="350f9-139">-   Change response code (same first digit value)</span></span>|
|<span data-ttu-id="350f9-140">Свойства сущности</span><span class="sxs-lookup"><span data-stu-id="350f9-140">Entity properties</span></span>|<span data-ttu-id="350f9-141">-Удалить существующее свойство или связь</span><span class="sxs-lookup"><span data-stu-id="350f9-141">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="350f9-142">-Добавить свойство, не допускающее значения NULL</span><span class="sxs-lookup"><span data-stu-id="350f9-142">-   Add non-nullable property</span></span><br /><span data-ttu-id="350f9-143">-Изменить существующее свойство</span><span class="sxs-lookup"><span data-stu-id="350f9-143">-   Change existing property</span></span>|<span data-ttu-id="350f9-144">-Добавить свойство, допускающее значение NULL<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="350f9-144">-   Add nullable property<sup>2</sup></span></span>|
|<span data-ttu-id="350f9-145">Наборы сущностей</span><span class="sxs-lookup"><span data-stu-id="350f9-145">Entity sets</span></span>|<span data-ttu-id="350f9-146">-Удалить набор сущностей</span><span class="sxs-lookup"><span data-stu-id="350f9-146">-   Remove entity set</span></span>|<span data-ttu-id="350f9-147">-Добавить производный тип</span><span class="sxs-lookup"><span data-stu-id="350f9-147">-   Add derived type</span></span><br /><span data-ttu-id="350f9-148">-Изменить базовый тип</span><span class="sxs-lookup"><span data-stu-id="350f9-148">-   Change base type</span></span><br /><span data-ttu-id="350f9-149">-Добавить набор сущностей</span><span class="sxs-lookup"><span data-stu-id="350f9-149">-   Add entity set</span></span>|
|<span data-ttu-id="350f9-150">Настройка канала</span><span class="sxs-lookup"><span data-stu-id="350f9-150">Feed customization</span></span>|<span data-ttu-id="350f9-151">-Изменить сопоставление свойства сущности</span><span class="sxs-lookup"><span data-stu-id="350f9-151">-   Change entity-property mapping</span></span>||

 <span data-ttu-id="350f9-152"><sup>1</sup> это может зависеть от того, насколько строго клиентское приложение полагается на получение определенного кода ошибки.</span><span class="sxs-lookup"><span data-stu-id="350f9-152"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>

 <span data-ttu-id="350f9-153"><sup>2</sup> можно задать для <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> свойства значение `true` , чтобы клиент не пропускал все новые свойства, отправленные службой данных, которые не определены на клиенте.</span><span class="sxs-lookup"><span data-stu-id="350f9-153"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="350f9-154">Однако при выполнении вставок свойства, не включенным клиентом в запрос POST, устанавливаются в значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="350f9-154">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="350f9-155">Для обновлений все данные, существующие в неизвестном клиенту свойстве, могут быть перезаписаны значениями по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="350f9-155">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="350f9-156">В этом случае необходимо отправлять обновление как запрос MERGE, который используется по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="350f9-156">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="350f9-157">Дополнительные сведения см. [в разделе Управление контекстом службы данных](managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="350f9-157">For more information, see [Managing the Data Service Context](managing-the-data-service-context-wcf-data-services.md).</span></span>

### <a name="how-to-version-a-data-service"></a><span data-ttu-id="350f9-158">Управление версиями службы данных</span><span class="sxs-lookup"><span data-stu-id="350f9-158">How to Version a Data Service</span></span>

 <span data-ttu-id="350f9-159">При необходимости новая версия службы данных определяется путем создания нового экземпляра службы с обновленным контрактом службы или моделью данных.</span><span class="sxs-lookup"><span data-stu-id="350f9-159">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="350f9-160">Затем новая служба предоставляется с использованием новой конечной точки URI, в чем заключается отличие от предыдущей версии.</span><span class="sxs-lookup"><span data-stu-id="350f9-160">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="350f9-161">Пример:</span><span class="sxs-lookup"><span data-stu-id="350f9-161">For example:</span></span>

- <span data-ttu-id="350f9-162">Старая версия: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="350f9-162">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>

- <span data-ttu-id="350f9-163">Новая версия: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="350f9-163">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>

 <span data-ttu-id="350f9-164">При обновлении службы данных необходимо также обновить клиенты на основе новых метаданных службы данных и использовать новый корневой URI.</span><span class="sxs-lookup"><span data-stu-id="350f9-164">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="350f9-165">Если возможно, следует сохранить предыдущую версию службы данных для поддержки клиентов, которые еще не обновлены для работы с новой версией.</span><span class="sxs-lookup"><span data-stu-id="350f9-165">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="350f9-166">Более старые версии службы данных можно удалить, если они больше не нужны.</span><span class="sxs-lookup"><span data-stu-id="350f9-166">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="350f9-167">Необходимо рассмотреть вопрос о сохранении конечной точки URI службы данных во внешнем файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="350f9-167">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>

## <a name="odata-protocol-versions"></a><span data-ttu-id="350f9-168">Версии протокола OData</span><span class="sxs-lookup"><span data-stu-id="350f9-168">OData Protocol Versions</span></span>

 <span data-ttu-id="350f9-169">По мере выпуска новых версий OData клиентские приложения могут не использовать ту же версию протокола OData, которая поддерживается службой данных.</span><span class="sxs-lookup"><span data-stu-id="350f9-169">As new versions of OData are released, client applications may not be using the same version of the OData protocol that is supported by the data service.</span></span> <span data-ttu-id="350f9-170">Более старое клиентское приложение может обращаться к службе данных, которая поддерживает более новую версию OData.</span><span class="sxs-lookup"><span data-stu-id="350f9-170">An older client application may access a data service that supports a newer version of OData.</span></span> <span data-ttu-id="350f9-171">Клиентское приложение также может использовать более новую версию клиентской библиотеки службы данных WCF, которая поддерживает более новую версию OData, чем служба данных, к которой осуществляется доступ.</span><span class="sxs-lookup"><span data-stu-id="350f9-171">A client application may also be using a newer version of the WCF Data Services client library, which supports a newer version of OData than does the data service that is being accessed.</span></span>

 <span data-ttu-id="350f9-172">Службы данных WCF использует поддержку, предоставляемую OData для решения таких сценариев управления версиями.</span><span class="sxs-lookup"><span data-stu-id="350f9-172">WCF Data Services leverages the support provided by OData to handle such versioning scenarios.</span></span> <span data-ttu-id="350f9-173">Кроме того, существует поддержка создания и использования метаданных модели данных для создания клиентских классов службы данных, когда клиент использует другую версию OData, чем используемая службой данных.</span><span class="sxs-lookup"><span data-stu-id="350f9-173">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of OData than the data service uses.</span></span> <span data-ttu-id="350f9-174">Дополнительные сведения см. в разделе протокол управления версиями статьи [OData: обзор](https://www.odata.org/documentation/odata-version-2-0/overview/) .</span><span class="sxs-lookup"><span data-stu-id="350f9-174">For more information, see the Protocol Versioning section in the [OData: Overview](https://www.odata.org/documentation/odata-version-2-0/overview/) article.</span></span>

### <a name="version-negotiation"></a><span data-ttu-id="350f9-175">Согласование версий</span><span class="sxs-lookup"><span data-stu-id="350f9-175">Version Negotiation</span></span>

 <span data-ttu-id="350f9-176">Служба данных может быть настроена для определения самой высокой версии протокола OData, которая будет использоваться службой, независимо от версии, запрошенной клиентом.</span><span class="sxs-lookup"><span data-stu-id="350f9-176">The data service can be configured to define the highest version of the OData protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="350f9-177">Это можно сделать, указав <xref:System.Data.Services.Common.DataServiceProtocolVersion> значение <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> свойства объекта, <xref:System.Data.Services.DataServiceBehavior> используемого службой данных.</span><span class="sxs-lookup"><span data-stu-id="350f9-177">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="350f9-178">Дополнительные сведения см. [в разделе Настройка службы данных](configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="350f9-178">For more information, see [Configuring the Data Service](configuring-the-data-service-wcf-data-services.md).</span></span>

 <span data-ttu-id="350f9-179">Когда приложение использует клиентские библиотеки службы данных WCF для доступа к службе данных, библиотеки автоматически устанавливают для этих заголовков правильные значения в зависимости от версии OData и функций, используемых в приложении.</span><span class="sxs-lookup"><span data-stu-id="350f9-179">When an application uses the WCF Data Services client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of OData and the features that are used in your application.</span></span> <span data-ttu-id="350f9-180">По умолчанию службы данных WCF использует самую низкую версию протокола, поддерживающую запрошенную операцию.</span><span class="sxs-lookup"><span data-stu-id="350f9-180">By default, WCF Data Services uses the lowest protocol version that supports the requested operation.</span></span>

 <span data-ttu-id="350f9-181">В следующей таблице приведены версии платформа .NET Framework и Silverlight, которые включают поддержку службы данных WCF для конкретных версий протокола OData.</span><span class="sxs-lookup"><span data-stu-id="350f9-181">The following table details the versions of .NET Framework and Silverlight that include WCF Data Services support for specific versions of the OData protocol.</span></span>

|<span data-ttu-id="350f9-182">Версия протокола OData</span><span class="sxs-lookup"><span data-stu-id="350f9-182">OData Protocol Version</span></span>|<span data-ttu-id="350f9-183">Поддержка введена в...</span><span class="sxs-lookup"><span data-stu-id="350f9-183">Support introduced in…</span></span>|
|-----------------------------------------------------------------------------------|----------------------------|
|<span data-ttu-id="350f9-184">версия 1</span><span class="sxs-lookup"><span data-stu-id="350f9-184">Version 1</span></span>|<span data-ttu-id="350f9-185">-Платформа .NET Framework 3,5 с пакетом обновления 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="350f9-185">- .NET Framework 3.5 Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="350f9-186">-Silverlight версии 3</span><span class="sxs-lookup"><span data-stu-id="350f9-186">- Silverlight version 3</span></span>|
|<span data-ttu-id="350f9-187">версия 2</span><span class="sxs-lookup"><span data-stu-id="350f9-187">Version 2</span></span>|<span data-ttu-id="350f9-188">-Платформа .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="350f9-188">- .NET Framework 4</span></span><br /><span data-ttu-id="350f9-189">-Silverlight версии 4</span><span class="sxs-lookup"><span data-stu-id="350f9-189">- Silverlight version 4</span></span>|

### <a name="metadata-versions"></a><span data-ttu-id="350f9-190">Версии метаданных</span><span class="sxs-lookup"><span data-stu-id="350f9-190">Metadata Versions</span></span>

 <span data-ttu-id="350f9-191">По умолчанию службы данных WCF использует язык CSDL версии 1,1 для представления модели данных.</span><span class="sxs-lookup"><span data-stu-id="350f9-191">By default, WCF Data Services uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="350f9-192">Это всегда справедливо для моделей данных, основанных на поставщике отражения или на специализированном поставщике служб данных.</span><span class="sxs-lookup"><span data-stu-id="350f9-192">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="350f9-193">Но если модель данных определена с помощью платформы Entity Framework, возвращаемая версия CSDL та же, что и версия, используемая платформой Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="350f9-193">However, when the data model is defined by using the Entity Framework, the version of CSDL returned is the same as the version that is used by the Entity Framework.</span></span> <span data-ttu-id="350f9-194">Версия языка CSDL определяется пространством имен [элемента Schema (CSDL)](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec#schema-element-csdl).</span><span class="sxs-lookup"><span data-stu-id="350f9-194">The version of the CSDL is determined by the namespace of the [Schema element (CSDL)](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec#schema-element-csdl).</span></span>

 <span data-ttu-id="350f9-195">Элемент `DataServices` возвращаемых метаданных содержит также атрибут `DataServiceVersion`, имеющий то же значение, что и заголовок `DataServiceVersion` в ответном сообщении.</span><span class="sxs-lookup"><span data-stu-id="350f9-195">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="350f9-196">Клиентские приложения, например диалоговое окно **Добавление ссылки на службу** в Visual Studio, используют эти сведения для создания классов клиентских служб данных, которые правильно работают с версией службы данных WCF, в которой размещена служба данных.</span><span class="sxs-lookup"><span data-stu-id="350f9-196">Client applications, such as the **Add Service Reference** dialog box in Visual Studio, use this information to generate client data service classes that work correctly with the version of WCF Data Services that host the data service.</span></span> <span data-ttu-id="350f9-197">Дополнительные сведения см. в разделе протокол управления версиями статьи [OData: обзор](https://www.odata.org/documentation/odata-version-2-0/overview/) .</span><span class="sxs-lookup"><span data-stu-id="350f9-197">For more information, see the Protocol Versioning section in the [OData: Overview](https://www.odata.org/documentation/odata-version-2-0/overview/) article.</span></span>

## <a name="see-also"></a><span data-ttu-id="350f9-198">См. также</span><span class="sxs-lookup"><span data-stu-id="350f9-198">See also</span></span>

- [<span data-ttu-id="350f9-199">Поставщики служб данных</span><span class="sxs-lookup"><span data-stu-id="350f9-199">Data Services Providers</span></span>](data-services-providers-wcf-data-services.md)
- [<span data-ttu-id="350f9-200">Определение служб данных WCF</span><span class="sxs-lookup"><span data-stu-id="350f9-200">Defining WCF Data Services</span></span>](defining-wcf-data-services.md)
