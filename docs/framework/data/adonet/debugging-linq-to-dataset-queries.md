---
description: 'Дополнительные сведения: Отладка запросов LINQ to DataSet'
title: Отладка запросов в LINQ to DataSet
ms.date: 03/30/2017
ms.assetid: f4c54015-8ce2-4c5c-8d18-7038144cc66d
ms.openlocfilehash: f1293ba195c96d6868fdd5bfee50e8734f9cecc4
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99651227"
---
# <a name="debugging-linq-to-dataset-queries"></a><span data-ttu-id="88452-103">Отладка запросов в LINQ to DataSet</span><span class="sxs-lookup"><span data-stu-id="88452-103">Debugging LINQ to DataSet Queries</span></span>

<span data-ttu-id="88452-104">Visual Studio поддерживает отладку кода LINQ to DataSet.</span><span class="sxs-lookup"><span data-stu-id="88452-104">Visual Studio supports the debugging of LINQ to DataSet code.</span></span> <span data-ttu-id="88452-105">Однако существуют некоторые различия между отладкой кода LINQ to DataSet и неLINQ to DataSet управляемого кода.</span><span class="sxs-lookup"><span data-stu-id="88452-105">However, there are some differences between debugging LINQ to DataSet code and non-LINQ to DataSet managed code.</span></span> <span data-ttu-id="88452-106">Большинство функций отладки работают с инструкциями LINQ to DataSet, включая пошаговое выполнение, задание точек останова и просмотр результатов, отображаемых в окнах отладчика.</span><span class="sxs-lookup"><span data-stu-id="88452-106">Most debugging features work with LINQ to DataSet statements, including stepping, setting breakpoints, and viewing results that are shown in debugger windows.</span></span> <span data-ttu-id="88452-107">Однако отложенное выполнение запроса в имеет некоторые побочные эффекты, которые следует учитывать при отладке кода LINQ to DataSet и некоторые ограничения на использование функции "изменить и продолжить".</span><span class="sxs-lookup"><span data-stu-id="88452-107">However, deferred query execution in has some side effects that you should consider while debugging LINQ to DataSet code and there are some limitations to using Edit and Continue.</span></span> <span data-ttu-id="88452-108">В этом разделе обсуждаются аспекты отладки, которые уникальны для LINQ to DataSet по сравнению с управляемым кодом, не являющимся LINQ to DataSet.</span><span class="sxs-lookup"><span data-stu-id="88452-108">This topic discusses aspects of debugging that are unique to LINQ to DataSet compared to non-LINQ to DataSet managed code.</span></span>  
  
## <a name="viewing-results"></a><span data-ttu-id="88452-109">Просмотр результатов</span><span class="sxs-lookup"><span data-stu-id="88452-109">Viewing Results</span></span>  

 <span data-ttu-id="88452-110">Результат выполнения инструкции LINQ to DataSet можно просмотреть с помощью подсказок, окно контрольных значений и диалогового окна "Быстрая проверка".</span><span class="sxs-lookup"><span data-stu-id="88452-110">You can view the result of a LINQ to DataSet statement by using DataTips, the Watch window, and the QuickWatch dialog box.</span></span> <span data-ttu-id="88452-111">В окне исходного текста можно остановить указатель на запросе, после чего появится элемент DataTip.</span><span class="sxs-lookup"><span data-stu-id="88452-111">By using a source window, you can pause the pointer on a query in the source window and a DataTip will appear.</span></span> <span data-ttu-id="88452-112">Можно скопировать переменную LINQ to DataSet и вставить ее в окно контрольных значений или в диалоговое окно Быстрая проверка.</span><span class="sxs-lookup"><span data-stu-id="88452-112">You can copy a LINQ to DataSet variable and paste it into the Watch window or the QuickWatch dialog box.</span></span> <span data-ttu-id="88452-113">В LINQ to DataSet запрос не вычисляется при его создании или объявлении, но только при выполнении запроса.</span><span class="sxs-lookup"><span data-stu-id="88452-113">In LINQ to DataSet, a query is not evaluated when it is created or declared, but only when the query is executed.</span></span> <span data-ttu-id="88452-114">Это называется *отложенным выполнением*.</span><span class="sxs-lookup"><span data-stu-id="88452-114">This is called *deferred execution*.</span></span> <span data-ttu-id="88452-115">Поэтому переменная запроса не имеет значения, пока запрос не выполнен.</span><span class="sxs-lookup"><span data-stu-id="88452-115">Therefore, the query variable does not have a value until it is evaluated.</span></span> <span data-ttu-id="88452-116">Дополнительные сведения см. [в разделе запросы в LINQ to DataSet](queries-in-linq-to-dataset.md).</span><span class="sxs-lookup"><span data-stu-id="88452-116">For more information, see [Queries in LINQ to DataSet](queries-in-linq-to-dataset.md).</span></span>  
  
 <span data-ttu-id="88452-117">Отладчик должен выполнить запрос, чтобы отобразить его результаты.</span><span class="sxs-lookup"><span data-stu-id="88452-117">The debugger must evaluate a query to display the query results.</span></span> <span data-ttu-id="88452-118">Это неявное вычисление происходит при просмотре результата запроса LINQ to DataSet в отладчике, и есть некоторые эффекты, которые следует учитывать.</span><span class="sxs-lookup"><span data-stu-id="88452-118">This implicit evaluation occurs when you view a LINQ to DataSet query result in the debugger, and it has some effects you should consider.</span></span> <span data-ttu-id="88452-119">Каждое вычисление запроса занимает время.</span><span class="sxs-lookup"><span data-stu-id="88452-119">Each evaluation of the query takes time.</span></span> <span data-ttu-id="88452-120">Разворачивание узла результатов занимает время.</span><span class="sxs-lookup"><span data-stu-id="88452-120">Expanding the results node takes time.</span></span> <span data-ttu-id="88452-121">В некоторых запросах повторные вычисления могу вызвать заметное снижение производительности.</span><span class="sxs-lookup"><span data-stu-id="88452-121">For some queries, repeated evaluation might cause a noticeable performance penalty.</span></span> <span data-ttu-id="88452-122">Вычисление запроса может также вызвать побочные эффекты, которые изменяют значение данных или состояние программы.</span><span class="sxs-lookup"><span data-stu-id="88452-122">Evaluating a query can also cause side effects, which are changes to the value of data or the state of your program.</span></span> <span data-ttu-id="88452-123">Не все запросы имеют побочные эффекты.</span><span class="sxs-lookup"><span data-stu-id="88452-123">Not all queries have side effects.</span></span> <span data-ttu-id="88452-124">Чтобы определить, может ли запрос быть выполнен безопасно, без побочных эффектов, нужно понимать программный код, которым реализован запрос.</span><span class="sxs-lookup"><span data-stu-id="88452-124">To determine whether a query can be safely evaluated without side effects, you must understand the code that implements the query.</span></span> <span data-ttu-id="88452-125">Дополнительные сведения см. в разделе [побочные эффекты и выражения](/previous-versions/visualstudio/visual-studio-2013/a7a250bs(v=vs.120)).</span><span class="sxs-lookup"><span data-stu-id="88452-125">For more information, see [Side Effects and Expressions](/previous-versions/visualstudio/visual-studio-2013/a7a250bs(v=vs.120)).</span></span>  
  
## <a name="edit-and-continue"></a><span data-ttu-id="88452-126">Изменить и продолжить</span><span class="sxs-lookup"><span data-stu-id="88452-126">Edit and Continue</span></span>  

 <span data-ttu-id="88452-127">"Изменить и продолжить" не поддерживает изменения в запросах LINQ to DataSet.</span><span class="sxs-lookup"><span data-stu-id="88452-127">Edit and Continue does not support changes to LINQ to DataSet queries.</span></span> <span data-ttu-id="88452-128">Если добавить, удалить или изменить инструкцию LINQ to DataSet во время сеанса отладки, появится диалоговое окно, сообщающее, что изменение не поддерживается функцией "изменить и продолжить".</span><span class="sxs-lookup"><span data-stu-id="88452-128">If you add, remove, or change a LINQ to DataSet statement during a debugging session, a dialog box appears that tells you the change is not supported by Edit and Continue.</span></span> <span data-ttu-id="88452-129">На этом этапе можно либо отменить изменения, либо остановить сеанс отладки и запустить новый сеанс с отредактированным кодом.</span><span class="sxs-lookup"><span data-stu-id="88452-129">At that point, you can either undo the changes or stop the debugging session and restart a new session with the edited code.</span></span>  
  
 <span data-ttu-id="88452-130">Кроме того, команда "изменить и продолжить" не поддерживает изменение типа или значения переменной, используемой в инструкции LINQ to DataSet.</span><span class="sxs-lookup"><span data-stu-id="88452-130">In addition, Edit and Continue does not support changing the type or the value of a variable that is used in a LINQ to DataSet statement.</span></span> <span data-ttu-id="88452-131">Снова можно либо отменить изменения либо остановить и перезапустить сеанс отладки.</span><span class="sxs-lookup"><span data-stu-id="88452-131">Again, you can either undo the changes or stop and restart the debugging session.</span></span>  
  
 <span data-ttu-id="88452-132">В Visual C# в Visual Studio нельзя использовать Edit и Continue для любого кода в методе, содержащем запрос LINQ to DataSet.</span><span class="sxs-lookup"><span data-stu-id="88452-132">In Visual C# in Visual Studio, you cannot use Edit and Continue on any code in a method that contains a LINQ to DataSet query.</span></span>  
  
 <span data-ttu-id="88452-133">В Visual Basic в Visual Studio можно использовать команду "изменить и продолжить" в коде, отличном от LINQ to DataSet, даже в методе, содержащем запрос LINQ to DataSet.</span><span class="sxs-lookup"><span data-stu-id="88452-133">In Visual Basic in Visual Studio, you can use Edit and Continue on non-LINQ to DataSet code, even in a method that contains a LINQ to DataSet query.</span></span> <span data-ttu-id="88452-134">Можно добавить или удалить код перед инструкцией LINQ to DataSet, даже если изменения влияют на номер строки запроса LINQ to DataSet.</span><span class="sxs-lookup"><span data-stu-id="88452-134">You can add or remove code before the LINQ to DataSet statement, even if the changes affect line number of the LINQ to DataSet query.</span></span> <span data-ttu-id="88452-135">Процесс отладки Visual Basic для кода, отличного от LINQ to DataSet, остается таким же, как и ранее LINQ to DataSet.</span><span class="sxs-lookup"><span data-stu-id="88452-135">Your Visual Basic debugging experience for non-LINQ to DataSet code remains the same as it was before LINQ to DataSet was introduced.</span></span> <span data-ttu-id="88452-136">Однако нельзя изменить, добавить или удалить запрос LINQ to DataSet, если только вы не отключите отладку, чтобы применить изменения.</span><span class="sxs-lookup"><span data-stu-id="88452-136">You cannot change, add, or remove a LINQ to DataSet query, however, unless you stop debugging to apply the changes.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="88452-137">См. также</span><span class="sxs-lookup"><span data-stu-id="88452-137">See also</span></span>

- [<span data-ttu-id="88452-138">Отладка управляемого кода</span><span class="sxs-lookup"><span data-stu-id="88452-138">Debugging Managed Code</span></span>](/visualstudio/debugger/debugging-managed-code)
- [<span data-ttu-id="88452-139">Руководство по программированию</span><span class="sxs-lookup"><span data-stu-id="88452-139">Programming Guide</span></span>](programming-guide-linq-to-dataset.md)
