---
description: Дополнительные сведения о действиях по созданию действий в WF
title: Параметры разработки действий в WF
ms.date: 03/30/2017
ms.assetid: b9061f5f-12c3-47f0-adbe-1330e2714c94
ms.openlocfilehash: 5f200f11f1643a9da6c8a14a40ef9c0bb1d607b6
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99787985"
---
# <a name="activity-authoring-options-in-wf"></a><span data-ttu-id="fd273-103">Параметры разработки действий в WF</span><span class="sxs-lookup"><span data-stu-id="fd273-103">Activity Authoring Options in WF</span></span>

[!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] <span data-ttu-id="fd273-104">обеспечивает несколько вариантов разработки настраиваемых действий.</span><span class="sxs-lookup"><span data-stu-id="fd273-104">provides several options for creating custom activities.</span></span> <span data-ttu-id="fd273-105">Выбор правильного метода создания определенного действия зависит от требований возможностей времени выполнения.</span><span class="sxs-lookup"><span data-stu-id="fd273-105">The correct method to use for authoring a given activity depends on what run-time features are required.</span></span>  
  
## <a name="deciding-which-base-activity-class-to-use-for-authoring-custom-activities"></a><span data-ttu-id="fd273-106">Выбор базового класса действий для разработки настраиваемых действий</span><span class="sxs-lookup"><span data-stu-id="fd273-106">Deciding Which Base Activity Class to Use for Authoring Custom Activities</span></span>  

 <span data-ttu-id="fd273-107">В следующей таблице перечислены функции, доступные в базовых классах настраиваемых действий.</span><span class="sxs-lookup"><span data-stu-id="fd273-107">The following table lists the features available in the custom activity base classes.</span></span>  
  
|<span data-ttu-id="fd273-108">Базовый класс действия</span><span class="sxs-lookup"><span data-stu-id="fd273-108">Base activity class</span></span>|<span data-ttu-id="fd273-109">Доступные возможности</span><span class="sxs-lookup"><span data-stu-id="fd273-109">Features available</span></span>|  
|-------------------------|------------------------|  
|<xref:System.Activities.Activity>|<span data-ttu-id="fd273-110">Формирует составное действие из групп системных и настраиваемых действий.</span><span class="sxs-lookup"><span data-stu-id="fd273-110">Composes groups of system-provided and custom activities into a composite activity.</span></span>|  
|<xref:System.Activities.CodeActivity>|<span data-ttu-id="fd273-111">Реализует императивные функции путем предоставления метода <xref:System.Activities.CodeActivity%601.Execute%2A>, который можно переопределить.</span><span class="sxs-lookup"><span data-stu-id="fd273-111">Implements imperative functionality by providing an <xref:System.Activities.CodeActivity%601.Execute%2A> method that can be overridden.</span></span> <span data-ttu-id="fd273-112">Также обеспечивает доступ к отслеживанию, переменным и аргументам.</span><span class="sxs-lookup"><span data-stu-id="fd273-112">Also provides access to tracking, variables, and arguments..</span></span>|  
|<xref:System.Activities.NativeActivity>|<span data-ttu-id="fd273-113">Обеспечивает все функции <xref:System.Activities.CodeActivity>, а также прерывание выполнения действий, отмену выполнения дочерних действий, использование закладок, а также планирование действий, задач действий и функций.</span><span class="sxs-lookup"><span data-stu-id="fd273-113">Provides all of the features of <xref:System.Activities.CodeActivity>, plus aborting activity execution, canceling child activity execution, using bookmarks, and scheduling activities, activity actions, and functions.</span></span>|  
|<xref:System.Activities.DynamicActivity>|<span data-ttu-id="fd273-114">Обеспечивает подход, схожий с DOM, к действиям построения, при которых используется конструктор WF и механизмы среды выполнения с <xref:System.ComponentModel.ICustomTypeDescriptor>, что обеспечивает возможность создания новых действий без определения новых типов.</span><span class="sxs-lookup"><span data-stu-id="fd273-114">Provides a DOM-like approach to constructing activities that interfaces with the WF designer and the run-time machinery through <xref:System.ComponentModel.ICustomTypeDescriptor>, allowing new activities to be created without defining new types.</span></span>|  
  
## <a name="authoring-activities-using-activity"></a><span data-ttu-id="fd273-115">Разработка действий с помощью действия</span><span class="sxs-lookup"><span data-stu-id="fd273-115">Authoring Activities using Activity</span></span>  

 <span data-ttu-id="fd273-116">Действия, которые являются производными от <xref:System.Activities.Activity>, реализуют функциональность путем сборки других существующих действий.</span><span class="sxs-lookup"><span data-stu-id="fd273-116">Activities that derive from <xref:System.Activities.Activity> compose functionality by assembling other existing activities.</span></span> <span data-ttu-id="fd273-117">Такими действиями могут быть существующие настраиваемые действия и действия из библиотеки действий [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fd273-117">These activities can be existing custom activities and activities from the [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] activity library.</span></span> <span data-ttu-id="fd273-118">Сборка этих действий является наиболее простым способом создания пользовательских функциональных возможностей.</span><span class="sxs-lookup"><span data-stu-id="fd273-118">Assembling these activities is the most basic way to create custom functionality.</span></span> <span data-ttu-id="fd273-119">Этот подход обычно используется при создании рабочих процессов в среде виртуальной разработки.</span><span class="sxs-lookup"><span data-stu-id="fd273-119">This approach is most typically taken when using a visual design environment for authoring workflows.</span></span>  
  
## <a name="authoring-activities-using-codeactivity-or-asynccodeactivity"></a><span data-ttu-id="fd273-120">Разработка действий с помощью CodeActivity или AsyncCodeActivity</span><span class="sxs-lookup"><span data-stu-id="fd273-120">Authoring Activities using CodeActivity or AsyncCodeActivity</span></span>  

 <span data-ttu-id="fd273-121">Действия, которые являются производными от <xref:System.Activities.CodeActivity> или <xref:System.Activities.AsyncCodeActivity>, могут реализовывать императивные функции путем переопределения метода <xref:System.Activities.CodeActivity%601.Execute%2A> с помощью настраиваемого императивного кода.</span><span class="sxs-lookup"><span data-stu-id="fd273-121">Activities that derive from <xref:System.Activities.CodeActivity> or <xref:System.Activities.AsyncCodeActivity> can implement imperative functionality by overriding the <xref:System.Activities.CodeActivity%601.Execute%2A> method with custom imperative code.</span></span> <span data-ttu-id="fd273-122">Настраиваемый код выполняется при выполнении действия средой выполнения.</span><span class="sxs-lookup"><span data-stu-id="fd273-122">The custom code is executed when the activity is executed by the runtime.</span></span> <span data-ttu-id="fd273-123">Действия, созданные таким образом, имеют доступ к пользовательским функциям, но не ко всем функциям среды выполнения, таким как полный доступ к среде выполнения, возможность планировать дочерние действия, создание закладок и поддержка методов Cancel или Abort.</span><span class="sxs-lookup"><span data-stu-id="fd273-123">While activities created in this way have access to custom functionality, they do not have access to all of the features of the runtime, such as full access to the execution environment, the ability to schedule child activities, bookmark creation, or support for a Cancel or Abort method.</span></span> <span data-ttu-id="fd273-124">При своем выполнении <xref:System.Activities.CodeActivity> получает доступ к сокращенной версии среды выполнения (посредством класса <xref:System.Activities.CodeActivityContext> или <xref:System.Activities.AsyncCodeActivityContext>).</span><span class="sxs-lookup"><span data-stu-id="fd273-124">When a <xref:System.Activities.CodeActivity> executes, it has access to a reduced version of the execution environment (through the <xref:System.Activities.CodeActivityContext> or <xref:System.Activities.AsyncCodeActivityContext> class).</span></span> <span data-ttu-id="fd273-125">Действия, созданные с помощью <xref:System.Activities.CodeActivity>, имеют доступ к разрешению аргументов и переменных, расширениям и отслеживанию.</span><span class="sxs-lookup"><span data-stu-id="fd273-125">Activities created using <xref:System.Activities.CodeActivity> have access to argument and variable resolution, extensions, and tracking.</span></span> <span data-ttu-id="fd273-126">Асинхронное планирование действий можно выполнить с помощью <xref:System.Activities.AsyncCodeActivity>.</span><span class="sxs-lookup"><span data-stu-id="fd273-126">Asynchronous activity scheduling can be done using <xref:System.Activities.AsyncCodeActivity>.</span></span>  
  
## <a name="authoring-activities-using-nativeactivity"></a><span data-ttu-id="fd273-127">Разработка действий с помощью NativeActivity</span><span class="sxs-lookup"><span data-stu-id="fd273-127">Authoring Activities using NativeActivity</span></span>  

 <span data-ttu-id="fd273-128">Действия, которые являются производными от <xref:System.Activities.NativeActivity> аналогично производным действиям от <xref:System.Activities.CodeActivity>, создают императивные функции путем переопределения <xref:System.Activities.NativeActivity.Execute%2A>, но также имеют доступ ко всем функциям среды выполнения рабочего процесса благодаря <xref:System.Activities.NativeActivityContext>, который передается методу <xref:System.Activities.NativeActivity.Execute%2A>.</span><span class="sxs-lookup"><span data-stu-id="fd273-128">Activities that derive from <xref:System.Activities.NativeActivity>, like those that derive from <xref:System.Activities.CodeActivity>, create imperative functionality by overriding <xref:System.Activities.NativeActivity.Execute%2A>, but also have access to all of the functionality of the workflow runtime through the <xref:System.Activities.NativeActivityContext> that gets passed into the <xref:System.Activities.NativeActivity.Execute%2A> method.</span></span> <span data-ttu-id="fd273-129">Этот контекст поддерживает планирование и отмену дочерних действий, выполнение объектов <xref:System.Activities.ActivityAction> и <xref:System.Activities.ActivityFunc%601>, потоки транзакций в рабочем процессе, вызов асинхронных процессов, отмену и прерывание выполнения, доступ к свойствам выполнения и расширениям, а также закладки (маркеры для возобновления приостановленных рабочих процессов).</span><span class="sxs-lookup"><span data-stu-id="fd273-129">This context has support for scheduling and canceling child activities, executing <xref:System.Activities.ActivityAction> and <xref:System.Activities.ActivityFunc%601> objects, flowing transactions into a workflow, invoking asynchronous processes, canceling and aborting execution, access to execution properties and extensions, and bookmarks (handles for resuming paused workflows).</span></span>  
  
## <a name="authoring-activities-using-dynamicactivity"></a><span data-ttu-id="fd273-130">Разработка действий с помощью DynamicActivity</span><span class="sxs-lookup"><span data-stu-id="fd273-130">Authoring Activities using DynamicActivity</span></span>  

 <span data-ttu-id="fd273-131">В отличие от трех других типов действий новая функциональность создается не путем создания новых типов из <xref:System.Activities.DynamicActivity> (этот класс является запечатанным), а путем сборки функциональности в свойства <xref:System.Activities.DynamicActivity.Properties%2A> и <xref:System.Activities.DynamicActivity.Implementation%2A> с помощью модели DOM действий.</span><span class="sxs-lookup"><span data-stu-id="fd273-131">Unlike the other three types of activity, new functionality is not created by deriving new types from <xref:System.Activities.DynamicActivity> (the class is sealed), but instead, by assembling functionality into the <xref:System.Activities.DynamicActivity.Properties%2A> and <xref:System.Activities.DynamicActivity.Implementation%2A> properties using an activity document object model (DOM).</span></span>  
  
## <a name="authoring-activities-that-return-a-result"></a><span data-ttu-id="fd273-132">Разработка действий, возвращающих результат</span><span class="sxs-lookup"><span data-stu-id="fd273-132">Authoring Activities that Return a Result</span></span>  

 <span data-ttu-id="fd273-133">Многие действия должны возвращать результат после выполнения.</span><span class="sxs-lookup"><span data-stu-id="fd273-133">Many activities must return a result after their execution.</span></span> <span data-ttu-id="fd273-134">Хотя для этих целей всегда можно определить настраиваемый <xref:System.Activities.OutArgument%601> для действия, рекомендуется вместо этого использовать <xref:System.Activities.Activity%601> или сформировать из <xref:System.Activities.CodeActivity%601> или <xref:System.Activities.NativeActivity%601>.</span><span class="sxs-lookup"><span data-stu-id="fd273-134">Although it is possible to always define a custom <xref:System.Activities.OutArgument%601> on an activity for this purpose, it is suggested to instead use <xref:System.Activities.Activity%601>, or derive from <xref:System.Activities.CodeActivity%601> or <xref:System.Activities.NativeActivity%601>.</span></span> <span data-ttu-id="fd273-135">Все эти базовые классы имеют аргумент <xref:System.Activities.OutArgument%601> с именем Result, который действие может использовать для возвращаемого значения.</span><span class="sxs-lookup"><span data-stu-id="fd273-135">Each of these base classes has an <xref:System.Activities.OutArgument%601> named Result that your activity can use for its return value.</span></span> <span data-ttu-id="fd273-136">Действия, возвращающие результат, должны использоваться, только если требуется возвратить из действия лишь один результат. Если требуется возвратить несколько результатов, следует использовать отдельные члены <xref:System.Activities.OutArgument%601>.</span><span class="sxs-lookup"><span data-stu-id="fd273-136">Activities that return a result should only be used if only one result needs to be returned from an activity; if multiple results need to be returned, separate <xref:System.Activities.OutArgument%601> members should be used instead.</span></span>
