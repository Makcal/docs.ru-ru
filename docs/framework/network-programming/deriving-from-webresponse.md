---
description: 'Узнайте подробнее о: Наследование от класса WebResponse'
title: Наследование от класса WebResponse
ms.date: 03/30/2017
helpviewer_keywords:
- Deriving from WebResponse
ms.assetid: f11d4866-a199-4087-9306-a5a4c18b13db
ms.openlocfilehash: 5e941ce055091c6034640733465020ff62ce3721
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99747482"
---
# <a name="deriving-from-webresponse"></a><span data-ttu-id="e1da4-103">Наследование от класса WebResponse</span><span class="sxs-lookup"><span data-stu-id="e1da4-103">Deriving from WebResponse</span></span>

<span data-ttu-id="e1da4-104"><xref:System.Net.WebResponse> — это абстрактный базовый класс, который предоставляет базовые методы и свойства для создания обработчика ответов определенного протокола в соответствии с требованиями модели подключаемых протоколов .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="e1da4-104">The <xref:System.Net.WebResponse> class is an abstract base class that provides the basic methods and properties for creating a protocol-specific response that fits the .NET Framework pluggable protocol model.</span></span> <span data-ttu-id="e1da4-105">Приложения, использующие класс <xref:System.Net.WebRequest> для запроса данных ресурсов, получают ответы в **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="e1da4-105">Applications that use the <xref:System.Net.WebRequest> class to request data from resources receive the responses in a **WebResponse**.</span></span> <span data-ttu-id="e1da4-106">Потомки класса **WebResponse** для определенных протоколов должны реализовывать абстрактные члены класса **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="e1da4-106">Protocol-specific **WebResponse** descendants must implement the abstract members of the **WebResponse** class.</span></span>  
  
 <span data-ttu-id="e1da4-107">Связанный класс **WebRequest** должен создавать потомки **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="e1da4-107">The associated **WebRequest** class must create **WebResponse** descendants.</span></span> <span data-ttu-id="e1da4-108">Например, экземпляры <xref:System.Net.HttpWebResponse> создаются только в результате вызова <xref:System.Net.HttpWebRequest.GetResponse%2A?displayProperty=nameWithType> или <xref:System.Net.HttpWebRequest.EndGetResponse%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e1da4-108">For example, <xref:System.Net.HttpWebResponse> instances are created only as the result of calling <xref:System.Net.HttpWebRequest.GetResponse%2A?displayProperty=nameWithType> or <xref:System.Net.HttpWebRequest.EndGetResponse%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="e1da4-109">Каждый **WebResponse** содержит результат запроса к ресурсу и не предназначен для повторного использования.</span><span class="sxs-lookup"><span data-stu-id="e1da4-109">Each **WebResponse** contains the result of a request to a resource and is not intended to be reused.</span></span>  
  
## <a name="contentlength-property"></a><span data-ttu-id="e1da4-110">Свойство ContentLength</span><span class="sxs-lookup"><span data-stu-id="e1da4-110">ContentLength Property</span></span>  

 <span data-ttu-id="e1da4-111">Свойство <xref:System.Net.WebResponse.ContentLength%2A> указывает число байтов данных, доступных в потоке, возвращенном методом <xref:System.Net.WebResponse.GetResponseStream%2A>.</span><span class="sxs-lookup"><span data-stu-id="e1da4-111">The <xref:System.Net.WebResponse.ContentLength%2A> property indicates the number of bytes of data that are available from the stream returned by the <xref:System.Net.WebResponse.GetResponseStream%2A> method.</span></span> <span data-ttu-id="e1da4-112">Свойство **ContentLength** не учитывает число байтов в заголовке или метаданных, возвращаемых сервером. Оно определяет только размер данных в самом запрошенном ресурсе.</span><span class="sxs-lookup"><span data-stu-id="e1da4-112">The **ContentLength** property does not indicate the number of bytes of header or metadata information returned by the server; it indicates only the number of bytes of data in the requested resource itself.</span></span>  
  
## <a name="contenttype-property"></a><span data-ttu-id="e1da4-113">Свойство ContentType</span><span class="sxs-lookup"><span data-stu-id="e1da4-113">ContentType Property</span></span>  

 <span data-ttu-id="e1da4-114">Свойство <xref:System.Net.WebResponse.ContentType%2A> предоставляет особые сведения, которые необходимы протоколу для отправки клиенту, чтобы идентифицировать тип отправляемого сервером содержимого.</span><span class="sxs-lookup"><span data-stu-id="e1da4-114">The <xref:System.Net.WebResponse.ContentType%2A> property provides any special information that your protocol requires you to send to the client to identify the type of content being sent by the server.</span></span> <span data-ttu-id="e1da4-115">Обычно это тип MIME возвращаемых данных.</span><span class="sxs-lookup"><span data-stu-id="e1da4-115">Typically this is the MIME content type of any data returned.</span></span>  
  
## <a name="headers-property"></a><span data-ttu-id="e1da4-116">Свойство Headers</span><span class="sxs-lookup"><span data-stu-id="e1da4-116">Headers Property</span></span>  

 <span data-ttu-id="e1da4-117">Свойство <xref:System.Net.WebResponse.Headers%2A> содержит произвольную коллекцию пар "имя-значение" для метаданных, связанных с ответом.</span><span class="sxs-lookup"><span data-stu-id="e1da4-117">The <xref:System.Net.WebResponse.Headers%2A> property contains an arbitrary collection of name/value pairs of metadata associated with the response.</span></span> <span data-ttu-id="e1da4-118">В свойство **Headers** можно включать любые метаданные для протокола, которые могут быть выражены в виде пар "имя-значение".</span><span class="sxs-lookup"><span data-stu-id="e1da4-118">Any metadata needed by the protocol that can be expressed as a name/value pair can be included in the **Headers** property.</span></span>  
  
 <span data-ttu-id="e1da4-119">Чтобы использовать метаданные заголовка, применять свойство **Headers** необязательно.</span><span class="sxs-lookup"><span data-stu-id="e1da4-119">You are not required to use the **Headers** property to use header metadata.</span></span> <span data-ttu-id="e1da4-120">Относящиеся к протоколу метаданные могут предоставляться в виде свойств. Например, свойство <xref:System.Net.HttpWebResponse.LastModified%2A?displayProperty=nameWithType> предоставляет заголовок HTTP **Last-Modified**.</span><span class="sxs-lookup"><span data-stu-id="e1da4-120">Protocol-specific metadata can be exposed as properties; for example, the <xref:System.Net.HttpWebResponse.LastModified%2A?displayProperty=nameWithType> property exposes the **Last-Modified** HTTP header.</span></span> <span data-ttu-id="e1da4-121">Если метаданные заголовка предоставляются в виде свойства, необходимо запретить установку этого свойства с использованием свойства **Headers**.</span><span class="sxs-lookup"><span data-stu-id="e1da4-121">When you expose header metadata as a property, you should not allow the same property to be set using the **Headers** property.</span></span>  
  
## <a name="responseuri-property"></a><span data-ttu-id="e1da4-122">Свойство ResponseUri</span><span class="sxs-lookup"><span data-stu-id="e1da4-122">ResponseUri Property</span></span>  

 <span data-ttu-id="e1da4-123">Свойство <xref:System.Net.WebResponse.ResponseUri%2A> содержит URI ресурса, который фактически предоставил ответ.</span><span class="sxs-lookup"><span data-stu-id="e1da4-123">The <xref:System.Net.WebResponse.ResponseUri%2A> property contains the URI of the resource that actually provided the response.</span></span> <span data-ttu-id="e1da4-124">Для протоколов, которые не поддерживают перенаправление, свойство **ResponseUri** будет иметь то же значение, что и свойство <xref:System.Net.WebRequest.RequestUri%2A> объекта **WebRequest**, который создал ответ.</span><span class="sxs-lookup"><span data-stu-id="e1da4-124">For protocols that do not support redirection, **ResponseUri** will be the same as the <xref:System.Net.WebRequest.RequestUri%2A> property of the **WebRequest** that created the response.</span></span> <span data-ttu-id="e1da4-125">Если протокол поддерживает перенаправление запроса, свойство **ResponseUri** будет содержать URI ответа.</span><span class="sxs-lookup"><span data-stu-id="e1da4-125">If the protocol supports redirecting the request, **ResponseUri** will contain the URI of the response.</span></span>  
  
## <a name="close-method"></a><span data-ttu-id="e1da4-126">Метод Close</span><span class="sxs-lookup"><span data-stu-id="e1da4-126">Close Method</span></span>  

 <span data-ttu-id="e1da4-127">Метод <xref:System.Net.WebResponse.Close%2A> закрывает любые подключения, установленные запросом или ответом, и освобождает ресурсы, используемые ответом.</span><span class="sxs-lookup"><span data-stu-id="e1da4-127">The <xref:System.Net.WebResponse.Close%2A> method closes any connections made by the request and response and cleans up resources used by the response.</span></span> <span data-ttu-id="e1da4-128">Метод **Close** закрывает любые экземпляры потока, используемые ответом, однако не вызывает исключение, если поток ответа был ранее закрыт посредством вызова метода <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e1da4-128">The **Close** method closes any stream instances used by the response, but it does not throw an exception if the response stream was previously closed by a call to the <xref:System.IO.Stream.Close%2A?displayProperty=nameWithType> method.</span></span>  
  
## <a name="getresponsestream-method"></a><span data-ttu-id="e1da4-129">Метод GetResponseStream</span><span class="sxs-lookup"><span data-stu-id="e1da4-129">GetResponseStream Method</span></span>  

 <span data-ttu-id="e1da4-130">Метод <xref:System.Net.WebResponse.GetResponseStream%2A> возвращает поток, содержащий ответ от запрошенного ресурса.</span><span class="sxs-lookup"><span data-stu-id="e1da4-130">The <xref:System.Net.WebResponse.GetResponseStream%2A> method returns a stream containing the response from the requested resource.</span></span> <span data-ttu-id="e1da4-131">Поток ответа содержит только данные, возвращаемые ресурсом. Заголовок и любые метаданные, включаемые в ответ, должны быть исключены и предоставляются приложению с помощью свойств определенного протокола или свойства **Headers**.</span><span class="sxs-lookup"><span data-stu-id="e1da4-131">The response stream contains only the data returned by the resource; any header or metadata included in the response should be stripped from the response and exposed to the application through protocol-specific properties or the **Headers** property.</span></span>  
  
 <span data-ttu-id="e1da4-132">Экземпляр потока, возвращаемый методом **GetResponseStream**, принадлежит приложению. Его можно закрыть, не закрывая **WebResponse**.</span><span class="sxs-lookup"><span data-stu-id="e1da4-132">The stream instance returned by the **GetResponseStream** method is owned by the application and can be closed without closing the **WebResponse**.</span></span> <span data-ttu-id="e1da4-133">По соглашению вызов метода **WebResponse.Close** также закрывает поток, возвращаемый методом **GetResponse**.</span><span class="sxs-lookup"><span data-stu-id="e1da4-133">By convention, calling the **WebResponse.Close** method also closes the stream returned by **GetResponse**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e1da4-134">См. также</span><span class="sxs-lookup"><span data-stu-id="e1da4-134">See also</span></span>

- <xref:System.Net.WebResponse>
- <xref:System.Net.HttpWebResponse>
- <xref:System.Net.FileWebResponse>
- [<span data-ttu-id="e1da4-135">Программирование подключаемых протоколов</span><span class="sxs-lookup"><span data-stu-id="e1da4-135">Programming Pluggable Protocols</span></span>](programming-pluggable-protocols.md)
- [<span data-ttu-id="e1da4-136">Наследование от WebResponse</span><span class="sxs-lookup"><span data-stu-id="e1da4-136">Deriving from WebRequest</span></span>](deriving-from-webrequest.md)
