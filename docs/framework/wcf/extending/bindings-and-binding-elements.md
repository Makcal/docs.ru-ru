---
description: 'Дополнительные сведения: привязки и элементы привязки'
title: Привязки и элементы привязки
ms.date: 03/30/2017
helpviewer_keywords:
- binding elements [WCF]
ms.assetid: 765ff77b-7682-4ea3-90eb-e4d751e37379
ms.openlocfilehash: 0d43a676bf5b4a166a34a2d623e0f80cc9df66f0
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99756725"
---
# <a name="bindings-and-binding-elements"></a><span data-ttu-id="f6a6d-103">Привязки и элементы привязки</span><span class="sxs-lookup"><span data-stu-id="f6a6d-103">Bindings and Binding Elements</span></span>

<span data-ttu-id="f6a6d-104">Привязки — это коллекции специальных элементов конфигурации, называемые *элементами привязки*, которые оцениваются средой выполнения службы при каждом создании конечной точки клиента или службы.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-104">Bindings are collections of special configuration elements, called *binding elements*, which are evaluated by the service runtime whenever a client or service endpoint is being constructed.</span></span> <span data-ttu-id="f6a6d-105">Тип и порядок элементов привязки в привязке определяют порядок выбора и расположения каналов транспорта и протокола в стеке канала конечной точки.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-105">The type and order of the binding elements within a binding determines the selection and stacking order of the protocol and transport channels in an endpoint's channel stack.</span></span>  
  
 <span data-ttu-id="f6a6d-106">Как правило, привязки (в частности привязки, предоставляемые системой) также имеют множество свойств конфигурации, которые отражают часто изменяемые свойства инкапсулированных элементов привязки.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-106">Bindings, especially the system-provided bindings, usually also have a number of configuration properties that reflect the most commonly modified properties of the encapsulated binding elements.</span></span>  
  
 <span data-ttu-id="f6a6d-107">Привязка должна содержать точно один элемент привязки транспорта.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-107">A binding must contain exactly one transport binding element.</span></span> <span data-ttu-id="f6a6d-108">Каждый элемент привязки транспорта содержит элемент привязки кодирования сообщений по умолчанию, который можно переопределить путем добавления в привязку не более одного элемента привязки кодирования сообщений.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-108">Each transport binding element implies a default message encoding binding element, which can be overridden by adding at most one message encoding binding element to the binding.</span></span> <span data-ttu-id="f6a6d-109">Кроме элементов привязки транспорта и кодирования, привязка может содержать любое количество элементов привязки протокола, которые совместно реализуют функции, необходимые для обработки и отправки сообщения SOAP от одной конечной точки другой.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-109">In addition to the transport and encoder binding elements, the binding may contain any number of protocol binding elements that together implement the functionality needed to service and send a SOAP message from one endpoint to another.</span></span> <span data-ttu-id="f6a6d-110">Дополнительные сведения см. [в разделе Использование привязок для настройки служб и клиентов](../using-bindings-to-configure-services-and-clients.md).</span><span class="sxs-lookup"><span data-stu-id="f6a6d-110">For details, see [Using Bindings to Configure Services and Clients](../using-bindings-to-configure-services-and-clients.md).</span></span>  
  
## <a name="extending-bindings-and-binding-elements"></a><span data-ttu-id="f6a6d-111">Расширение привязок и элементов привязок</span><span class="sxs-lookup"><span data-stu-id="f6a6d-111">Extending Bindings and Binding Elements</span></span>  

 <span data-ttu-id="f6a6d-112">Windows Communication Foundation (WCF) включает привязки, предоставляемые системой и охватывающие широкий спектр сценариев.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-112">Windows Communication Foundation (WCF) includes system-provided bindings that cover a wide range of scenarios.</span></span> <span data-ttu-id="f6a6d-113">(Дополнительные сведения см. в разделе [привязки, предоставляемые системой](../system-provided-bindings.md).) Однако иногда требуется создать и использовать привязку, которая не включена в WCF.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-113">(For more, see [System-Provided Bindings](../system-provided-bindings.md).) There may be times, however, when you need to create and use a binding that is not included in WCF.</span></span> <span data-ttu-id="f6a6d-114">В следующих сценариях требуется создание новой привязки.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-114">The following scenarios require the creation of a new binding.</span></span>  
  
- <span data-ttu-id="f6a6d-115">Чтобы использовать новый элемент привязки (такой как новый элемент привязки транспорта, кодирования или протокола), необходимо создать новую привязку, содержащую такой элемент привязки.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-115">To use a new binding element (such as a new transport, encoding, or protocol binding element), you must create a new binding that includes that binding element.</span></span> <span data-ttu-id="f6a6d-116">Например, для добавления пользовательского элемента `UdpTransportBindingElement` для транспорта по протоколу UDP потребуется создать новую привязку, которая будет его использовать.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-116">For example, if you added a custom `UdpTransportBindingElement` for UDP transport, you would need to create a new binding to make use of it.</span></span> <span data-ttu-id="f6a6d-117">Сведения о выполнении этого поведения с помощью <xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType> типа см. в разделе [пользовательские привязки](custom-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="f6a6d-117">For information about performing this behavior using the <xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType> type, see [Custom Bindings](custom-bindings.md).</span></span>  
  
- <span data-ttu-id="f6a6d-118">Настройка существующих элементов привязки таким образом, чтобы предоставляемые системой привязки не предоставляли открытые свойства,</span><span class="sxs-lookup"><span data-stu-id="f6a6d-118">To configure existing binding elements in a way that the system-provided bindings to not expose on public properties.</span></span> <span data-ttu-id="f6a6d-119">например, когда требуется создать новую привязку для изменения порядка выполнения операций подписания и шифрования.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-119">For example, you must create a new binding to change the order in which signing and encryption operations are performed.</span></span> <span data-ttu-id="f6a6d-120">Сведения о выполнении этого поведения см. [в разделе как настроить привязку System-Provided](how-to-customize-a-system-provided-binding.md).</span><span class="sxs-lookup"><span data-stu-id="f6a6d-120">For information about performing this behavior, see [How to: Customize a System-Provided Binding](how-to-customize-a-system-provided-binding.md).</span></span>  
  
- <span data-ttu-id="f6a6d-121">Создание стандартных корпоративных привязок, которые предоставляют только определенные параметры конфигурации,</span><span class="sxs-lookup"><span data-stu-id="f6a6d-121">To establish corporate standard bindings that expose only specific configuration options.</span></span> <span data-ttu-id="f6a6d-122">например, для создания в рамках предприятия варианта привязки <xref:System.ServiceModel.WSHttpBinding>, в которой невозможно отключить безопасность, т.е. привязки, которая имеет функциональность привязки <xref:System.ServiceModel.WSHttpBinding>, но в которой безопасность всегда включена.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-122">For example, to create for your company a variant of the <xref:System.ServiceModel.WSHttpBinding> for your company in which security cannot be disabled, create a new binding that behaves like the <xref:System.ServiceModel.WSHttpBinding>, but with security always on.</span></span> <span data-ttu-id="f6a6d-123">Дополнительные сведения см. в разделе [Создание привязок User-Defined](creating-user-defined-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="f6a6d-123">For details, see [Creating User-Defined Bindings](creating-user-defined-bindings.md).</span></span>  
  
- <span data-ttu-id="f6a6d-124">Настройка некоторых метаданных обычно (но не обязательно) для настройки или использования пользовательского элемента привязки.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-124">To perform some customization of metadata, typically but not necessarily to configure or use some custom binding element.</span></span> <span data-ttu-id="f6a6d-125">Дополнительные сведения о предоставлении поддержки метаданных для привязок и элементов привязки см. в разделе [Поддержка конфигурации и метаданных](configuration-and-metadata-support.md).</span><span class="sxs-lookup"><span data-stu-id="f6a6d-125">For more information about providing metadata support to bindings and binding elements, see [Configuration and Metadata Support](configuration-and-metadata-support.md).</span></span>  

## <a name="channels-bindings-and-binding-elements"></a><span data-ttu-id="f6a6d-126">Каналы, привязки и элементы привязки</span><span class="sxs-lookup"><span data-stu-id="f6a6d-126">Channels, Bindings, and Binding Elements</span></span>  

 <span data-ttu-id="f6a6d-127">Привязки и элементы привязки связывают модель программирования приложения, включающую атрибуты и поведения, с моделью канала, которая включает фабрики и прослушиватели, кодировщики сообщений, а также реализации транспорта и протокола.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-127">Bindings and binding elements are the connection between the application programming model, which includes the attributes and behaviors, and the channel model, which includes the factories and listeners, message encoders, and transport and protocol implementations.</span></span> <span data-ttu-id="f6a6d-128">Как правило, элементы привязки и привязки реализуются для того, чтобы позволить уровню приложения использовать каналы.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-128">Typically, binding elements and bindings are implemented to enable channels to be used by the application layer.</span></span>  
  
 <span data-ttu-id="f6a6d-129">Уровень канала отправляет и получает сообщения от уровня службы и передает эти сообщения между конечными точками.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-129">The channel layer hands off or receives messages to and from the service layer and transports those messages between endpoints.</span></span> <span data-ttu-id="f6a6d-130">Уровень канала в клиенте представляет собой стек фабрик каналов, которые создают каналы к конечной точке сети.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-130">On a client, the channel layer is a stack of channel factories that create channels to a network endpoint.</span></span> <span data-ttu-id="f6a6d-131">Уровень каналов в службе представляет собой стек прослушивателей каналов, которые принимают каналы, полученные конечной точкой сети.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-131">On a service, the channel layer is a stack of channel listeners that accept channels received at a network endpoint.</span></span>  
  
 <span data-ttu-id="f6a6d-132">Существует два общих типа каналов: каналы протоколов и каналы транспорта.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-132">There are two general types of channels: protocol channels and transport channels.</span></span> <span data-ttu-id="f6a6d-133">Каналы транспорта отвечают за фактическую передачу сообщения от одной конечной точки сети к другой.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-133">Transport channels are responsible for the actual transmission of a message from one network endpoint to another.</span></span> <span data-ttu-id="f6a6d-134">Каналы транспорта должны иметь кодировщик сообщений по умолчанию и должны иметь возможность использовать альтернативный кодировщик сообщений, предоставляемый посредством элемента привязки кодировщика сообщений.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-134">Transport channels must have a default message encoder and should be able to use an alternate message encoder supplied through a message encoder binding element.</span></span> <span data-ttu-id="f6a6d-135">Кодировщик сообщений отвечает за преобразование объекта <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> в представление для передачи и наоборот.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-135">A message encoder is responsible for turning a <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> into a wire representation and vice-versa.</span></span> <span data-ttu-id="f6a6d-136">Каналы протокола отвечают за реализацию протоколов уровня SOAP (например, WS-Security или WS-ReliableMessaging).</span><span class="sxs-lookup"><span data-stu-id="f6a6d-136">Protocol channels are responsible for implementing SOAP-level protocols (for example, WS-Security or WS-ReliableMessaging).</span></span>  
  
 <span data-ttu-id="f6a6d-137">Основным требованием к каналам протокола и транспорта является реализацию в них необходимых интерфейсов каналов.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-137">The primary requirement for transport and protocol channels is that they implement the required channel interfaces.</span></span> <span data-ttu-id="f6a6d-138">Чтобы создать рабочий уровень канала требуются соответствующие фабрики и прослушиватели и т. д.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-138">To create a working channel layer they must have associated factories and listeners, and so on.</span></span> <span data-ttu-id="f6a6d-139">Чтобы использовать реализации каналов из WCF, необходимо иметь связанные элементы привязки, производные от <xref:System.ServiceModel.Channels.BindingElement> для каждого канала, и должен быть связанный элемент расширения привязки для включения в файлы конфигурации, наследуемые от <xref:System.ServiceModel.Configuration.BindingElementExtensionElement> .</span><span class="sxs-lookup"><span data-stu-id="f6a6d-139">To use the channel implementations from WCF there needs to be an associated binding elements derived from <xref:System.ServiceModel.Channels.BindingElement> for each channel and there should be a related binding extension element for inclusion into configuration files that derives from <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>.</span></span>  
  
 <span data-ttu-id="f6a6d-140">Как уже говорилось ранее, элементы привязки для реализаций кодировщиков сообщений, канала протокола и канала транспорта можно располагать в стеке канала, а привязка служит механизмом их упорядочения.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-140">As mentioned earlier, binding elements for message encoders, protocol, and transport channel implementations can be stacked to form a channel stack and the mechanism to line them up into an ordered set is the binding.</span></span> <span data-ttu-id="f6a6d-141">Привязки и элементы привязки связывают модель программирования приложения с моделью канала.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-141">Bindings and binding elements connect the application programming model to the channel model.</span></span> <span data-ttu-id="f6a6d-142">Реализации канала можно использовать непосредственно в коде, однако если кодировщики, транспорты и протоколы реализованы не в виде элементов привязки, их нельзя использовать в модели программирования уровня службы.</span><span class="sxs-lookup"><span data-stu-id="f6a6d-142">You can use your channel implementations from code directly, but unless encoders, transports, and protocols are implemented as binding elements they cannot be used from the service layer programming model.</span></span>  
  
 <span data-ttu-id="f6a6d-143">Дополнительные сведения о разработке каналов и их элементов привязки см. [в разделе Расширение канального уровня](extending-the-channel-layer.md).</span><span class="sxs-lookup"><span data-stu-id="f6a6d-143">For details about developing channels and their binding elements, see [Extending the Channel Layer](extending-the-channel-layer.md).</span></span>
