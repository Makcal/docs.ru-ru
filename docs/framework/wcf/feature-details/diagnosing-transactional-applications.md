---
description: 'Дополнительные сведения: диагностика транзакционных приложений'
title: Диагностика транзакционных приложений
ms.date: 03/30/2017
ms.assetid: 4a993492-1088-4d10-871b-0c09916af05f
ms.openlocfilehash: 4b80dd5273781feaad0ef1c964c737a1cd470c75
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99756452"
---
# <a name="diagnosing-transactional-applications"></a><span data-ttu-id="c1689-103">Диагностика транзакционных приложений</span><span class="sxs-lookup"><span data-stu-id="c1689-103">Diagnosing Transactional Applications</span></span>

<span data-ttu-id="c1689-104">В этом разделе описывается использование компонента управления и диагностики Windows Communication Foundation (WCF) для устранения неполадок в транзакционном приложении.</span><span class="sxs-lookup"><span data-stu-id="c1689-104">This topic describes how to use the Windows Communication Foundation (WCF) management and diagnostics feature to troubleshoot a transactional application.</span></span>  
  
## <a name="performance-counters"></a><span data-ttu-id="c1689-105">Счетчики производительности</span><span class="sxs-lookup"><span data-stu-id="c1689-105">Performance Counters</span></span>  

 <span data-ttu-id="c1689-106">WCF предоставляет стандартный набор счетчиков производительности для измерения производительности транзакционного приложения.</span><span class="sxs-lookup"><span data-stu-id="c1689-106">WCF provides a standard set of performance counters for you to measure your transactional application's performance.</span></span> <span data-ttu-id="c1689-107">Дополнительные сведения см. в статье [Performance Counters](../diagnostics/performance-counters/index.md).</span><span class="sxs-lookup"><span data-stu-id="c1689-107">For more information, see [Performance Counters](../diagnostics/performance-counters/index.md).</span></span>  
  
 <span data-ttu-id="c1689-108">Счетчики производительности группируются по трем различным уровням области действия: служба, конечная точка и операция, как описано в приведенных далее таблицах.</span><span class="sxs-lookup"><span data-stu-id="c1689-108">Performance counters are scoped to three different levels: service, endpoint, and operation, as described in the following tables.</span></span>  
  
### <a name="service-performance-counters"></a><span data-ttu-id="c1689-109">Счетчики производительности службы</span><span class="sxs-lookup"><span data-stu-id="c1689-109">Service Performance Counters</span></span>  
  
|<span data-ttu-id="c1689-110">Счетчик производительности</span><span class="sxs-lookup"><span data-stu-id="c1689-110">Performance counter</span></span>|<span data-ttu-id="c1689-111">Описание</span><span class="sxs-lookup"><span data-stu-id="c1689-111">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="c1689-112">Количество поступивших транзакций</span><span class="sxs-lookup"><span data-stu-id="c1689-112">Transactions Flowed</span></span>|<span data-ttu-id="c1689-113">Количество транзакций в операциях для данной службы.</span><span class="sxs-lookup"><span data-stu-id="c1689-113">The number of transactions that flowed to operations in this service.</span></span> <span data-ttu-id="c1689-114">Значение этого счетчика увеличивается каждый раз, когда в сообщении, отправленном в службу, имеется транзакция.</span><span class="sxs-lookup"><span data-stu-id="c1689-114">This counter is incremented any time a transaction is present in the message that is sent to the service.</span></span>|  
|<span data-ttu-id="c1689-115">Количество поступивших транзакций в секунду</span><span class="sxs-lookup"><span data-stu-id="c1689-115">Transactions Flowed Per Second</span></span>|<span data-ttu-id="c1689-116">Количество транзакций в операциях для данной службы за каждую секунду.</span><span class="sxs-lookup"><span data-stu-id="c1689-116">The number of transactions that flowed to operations in this service within each second.</span></span> <span data-ttu-id="c1689-117">Значение этого счетчика увеличивается каждый раз, когда в сообщении, отправленном в службу, имеется транзакция.</span><span class="sxs-lookup"><span data-stu-id="c1689-117">This counter is incremented any time a transaction is present in the message that is sent to the service.</span></span>|  
|<span data-ttu-id="c1689-118">Количество зафиксированных операций с поддержкой транзакций</span><span class="sxs-lookup"><span data-stu-id="c1689-118">Transacted Operations Committed</span></span>|<span data-ttu-id="c1689-119">Количество выполненных операций с поддержкой транзакций, транзакции которых были завершены с результатом, зафиксированным в этой службе.</span><span class="sxs-lookup"><span data-stu-id="c1689-119">The number of transacted operations performed, whose transaction has completed with the outcome committed in this service.</span></span> <span data-ttu-id="c1689-120">Работа, выполненная в таких операциях, полностью зафиксирована.</span><span class="sxs-lookup"><span data-stu-id="c1689-120">Work done under such operations is fully committed.</span></span> <span data-ttu-id="c1689-121">Ресурсы обновлены в соответствии с работой, выполненной в операции.</span><span class="sxs-lookup"><span data-stu-id="c1689-121">Resources are updated in accordance with the work done in the operation.</span></span>|  
|<span data-ttu-id="c1689-122">Количество зафиксированных операций с поддержкой транзакций в секунду</span><span class="sxs-lookup"><span data-stu-id="c1689-122">Transacted Operations Committed Per Second</span></span>|<span data-ttu-id="c1689-123">Количество выполненных операций с поддержкой транзакций, транзакции которых были завершены с результатом, зафиксированным в этой службе в течение каждой секунды.</span><span class="sxs-lookup"><span data-stu-id="c1689-123">The number of transacted operations performed, whose transaction has completed with the outcome committed in this service within each second.</span></span> <span data-ttu-id="c1689-124">Работа, выполненная в таких операциях, полностью зафиксирована.</span><span class="sxs-lookup"><span data-stu-id="c1689-124">Work done under such operations is fully committed.</span></span> <span data-ttu-id="c1689-125">Ресурсы обновлены в соответствии с работой, выполненной в операции.</span><span class="sxs-lookup"><span data-stu-id="c1689-125">Resources are updated in accordance with the work done in the operation.</span></span>|  
|<span data-ttu-id="c1689-126">Количество прерванных операций с поддержкой транзакций</span><span class="sxs-lookup"><span data-stu-id="c1689-126">Transacted Operations Aborted</span></span>|<span data-ttu-id="c1689-127">Количество выполненных операций с поддержкой транзакций, транзакции которых были завершены с прерыванием в этой службе.</span><span class="sxs-lookup"><span data-stu-id="c1689-127">The number of transacted operations performed, whose transaction has completed with the outcome aborted in this service.</span></span> <span data-ttu-id="c1689-128">Для работы, выполненной в таких операциях, производится откат.</span><span class="sxs-lookup"><span data-stu-id="c1689-128">Work done under such operations is rolled back.</span></span> <span data-ttu-id="c1689-129">Для ресурсов восстанавливается предыдущее состояние.</span><span class="sxs-lookup"><span data-stu-id="c1689-129">Resources are reverted to their previous state.</span></span>|  
|<span data-ttu-id="c1689-130">Количество прерванных операций с поддержкой транзакций в секунду</span><span class="sxs-lookup"><span data-stu-id="c1689-130">Transacted Operations Aborted Per Second</span></span>|<span data-ttu-id="c1689-131">Количество выполненных операций с поддержкой транзакций, транзакции которых были завершены прерыванием в этой службе в течение каждой секунды.</span><span class="sxs-lookup"><span data-stu-id="c1689-131">The number of transacted operations performed, whose transaction has completed with the outcome aborted in this service within each second.</span></span> <span data-ttu-id="c1689-132">Для работы, выполненной в таких операциях, производится откат.</span><span class="sxs-lookup"><span data-stu-id="c1689-132">Work done under such operations is rolled back.</span></span> <span data-ttu-id="c1689-133">Для ресурсов восстанавливается предыдущее состояние.</span><span class="sxs-lookup"><span data-stu-id="c1689-133">Resources are reverted to their previous state.</span></span>|  
|<span data-ttu-id="c1689-134">Количество операций с поддержкой транзакций с сомнительным результатом</span><span class="sxs-lookup"><span data-stu-id="c1689-134">Transacted Operations In Doubt</span></span>|<span data-ttu-id="c1689-135">Количество выполненных операций с поддержкой транзакций, транзакции которых были завершены с сомнительным результатом в этой службе.</span><span class="sxs-lookup"><span data-stu-id="c1689-135">The number of transacted operations performed, whose transaction has completed with an outcome in doubt in this service.</span></span> <span data-ttu-id="c1689-136">Работа, выполненная с результатом "сомнительно", находится в неопределенном состоянии.</span><span class="sxs-lookup"><span data-stu-id="c1689-136">Work done with an outcome in doubt is in an indeterminate state.</span></span> <span data-ttu-id="c1689-137">Ресурсы находятся в состоянии ожидания результата.</span><span class="sxs-lookup"><span data-stu-id="c1689-137">Resources are held pending outcome.</span></span>|  
|<span data-ttu-id="c1689-138">Количество операций с поддержкой транзакций с сомнительным результатом в секунду</span><span class="sxs-lookup"><span data-stu-id="c1689-138">Transacted Operations In Doubt Per Second</span></span>|<span data-ttu-id="c1689-139">Количество выполненных операций с поддержкой транзакций, транзакции которых были завершены с результатом "сомнительно" в этой службе в течение каждой секунды.</span><span class="sxs-lookup"><span data-stu-id="c1689-139">The number of transacted operations performed, whose transaction has completed with an outcome in doubt in this service within each second.</span></span> <span data-ttu-id="c1689-140">Работа, выполненная с результатом "сомнительно", находится в неопределенном состоянии.</span><span class="sxs-lookup"><span data-stu-id="c1689-140">Work done with an outcome in doubt is in an indeterminate state.</span></span> <span data-ttu-id="c1689-141">Ресурсы находятся в состоянии ожидания результата.</span><span class="sxs-lookup"><span data-stu-id="c1689-141">Resources are held pending outcome.</span></span>|  
  
### <a name="endpoint-performance-counters"></a><span data-ttu-id="c1689-142">Счетчики производительности конечных точек</span><span class="sxs-lookup"><span data-stu-id="c1689-142">Endpoint Performance Counters</span></span>  
  
|<span data-ttu-id="c1689-143">Счетчик производительности</span><span class="sxs-lookup"><span data-stu-id="c1689-143">Performance counter</span></span>|<span data-ttu-id="c1689-144">Описание</span><span class="sxs-lookup"><span data-stu-id="c1689-144">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="c1689-145">Количество поступивших транзакций</span><span class="sxs-lookup"><span data-stu-id="c1689-145">Transactions Flowed</span></span>|<span data-ttu-id="c1689-146">Количество транзакций, поступивших в операции на этой конечной точке.</span><span class="sxs-lookup"><span data-stu-id="c1689-146">The number of transactions that flowed to operations at this endpoint.</span></span> <span data-ttu-id="c1689-147">Значение этого счетчика увеличивается каждый раз, когда в сообщении, отправленном на эту конечную точку, содержится транзакция.</span><span class="sxs-lookup"><span data-stu-id="c1689-147">This counter is incremented any time a transaction is present in the message that is sent to the endpoint.</span></span>|  
|<span data-ttu-id="c1689-148">Количество поступивших транзакций в секунду</span><span class="sxs-lookup"><span data-stu-id="c1689-148">Transactions Flowed Per Second</span></span>|<span data-ttu-id="c1689-149">Количество транзакций в операциях для данной конечной точки за каждую секунду.</span><span class="sxs-lookup"><span data-stu-id="c1689-149">The number of transactions that flowed to operations at this endpoint within each second.</span></span> <span data-ttu-id="c1689-150">Значение этого счетчика увеличивается каждый раз, когда в сообщении, отправленном на эту конечную точку, содержится транзакция.</span><span class="sxs-lookup"><span data-stu-id="c1689-150">This counter is incremented any time a transaction is present in the message that is sent to the endpoint.</span></span>|  
  
### <a name="operation-performance-counters"></a><span data-ttu-id="c1689-151">Счетчики производительности операций</span><span class="sxs-lookup"><span data-stu-id="c1689-151">Operation Performance Counters</span></span>  
  
|<span data-ttu-id="c1689-152">Счетчик производительности</span><span class="sxs-lookup"><span data-stu-id="c1689-152">Performance counter</span></span>|<span data-ttu-id="c1689-153">Описание</span><span class="sxs-lookup"><span data-stu-id="c1689-153">Description</span></span>|  
|-------------------------|-----------------|  
|<span data-ttu-id="c1689-154">Количество поступивших транзакций</span><span class="sxs-lookup"><span data-stu-id="c1689-154">Transactions Flowed</span></span>|<span data-ttu-id="c1689-155">Количество транзакций, поступивших в операции на этой конечной точке.</span><span class="sxs-lookup"><span data-stu-id="c1689-155">The number of transactions that flowed to operations at this endpoint.</span></span> <span data-ttu-id="c1689-156">Значение этого счетчика увеличивается каждый раз, когда в сообщении, отправленном на эту конечную точку, содержится транзакция.</span><span class="sxs-lookup"><span data-stu-id="c1689-156">This counter is incremented any time a transaction is present in the message that is sent to the endpoint.</span></span>|  
|<span data-ttu-id="c1689-157">Количество поступивших транзакций в секунду</span><span class="sxs-lookup"><span data-stu-id="c1689-157">Transactions Flowed Per Second</span></span>|<span data-ttu-id="c1689-158">Количество транзакций в операциях для данной конечной точки за каждую секунду.</span><span class="sxs-lookup"><span data-stu-id="c1689-158">The number of transactions that flowed to operations at this endpoint within each second.</span></span> <span data-ttu-id="c1689-159">Значение этого счетчика увеличивается каждый раз, когда в сообщении, отправленном на эту конечную точку, содержится транзакция.</span><span class="sxs-lookup"><span data-stu-id="c1689-159">This counter is incremented any time a transaction is present in the message that is sent to the endpoint.</span></span>|  
  
## <a name="windows-management-instrumentation"></a><span data-ttu-id="c1689-160">Инструментарий управления Windows (WMI)</span><span class="sxs-lookup"><span data-stu-id="c1689-160">Windows Management Instrumentation</span></span>  

 <span data-ttu-id="c1689-161">WCF предоставляет данные проверки службы во время выполнения с помощью поставщика инструментарий управления Windows (WMI) WCF (WMI).</span><span class="sxs-lookup"><span data-stu-id="c1689-161">WCF exposes inspection data of a service at run time through a WCF Windows Management Instrumentation (WMI) provider.</span></span> <span data-ttu-id="c1689-162">Дополнительные сведения о доступе к данным WMI см. [в разделе использование инструментарий управления Windows (WMI) для диагностики](../diagnostics/wmi/index.md).</span><span class="sxs-lookup"><span data-stu-id="c1689-162">For more information about accessing WMI data, see [Using Windows Management Instrumentation for Diagnostics](../diagnostics/wmi/index.md).</span></span>  
  
 <span data-ttu-id="c1689-163">Ряд свойств WMI только для чтения показывает применяемые в службе параметры транзакции.</span><span class="sxs-lookup"><span data-stu-id="c1689-163">A number of read-only WMI properties indicate the applied transaction settings for a service.</span></span> <span data-ttu-id="c1689-164">В приведенных ниже таблицах перечислены эти параметры.</span><span class="sxs-lookup"><span data-stu-id="c1689-164">The following tables list all of these settings.</span></span>  
  
 <span data-ttu-id="c1689-165">В службе атрибут `ServiceBehaviorAttribute` имеет следующие свойства.</span><span class="sxs-lookup"><span data-stu-id="c1689-165">On a service, the `ServiceBehaviorAttribute` has the following properties.</span></span>  
  
|<span data-ttu-id="c1689-166">Имя</span><span class="sxs-lookup"><span data-stu-id="c1689-166">Name</span></span>|<span data-ttu-id="c1689-167">Тип</span><span class="sxs-lookup"><span data-stu-id="c1689-167">Type</span></span>|<span data-ttu-id="c1689-168">Описание</span><span class="sxs-lookup"><span data-stu-id="c1689-168">Description</span></span>|  
|----------|----------|-----------------|  
|<span data-ttu-id="c1689-169">ReleaseServiceInstanceOnTransactionComplete</span><span class="sxs-lookup"><span data-stu-id="c1689-169">ReleaseServiceInstanceOnTransactionComplete</span></span>|<span data-ttu-id="c1689-170">Логическое</span><span class="sxs-lookup"><span data-stu-id="c1689-170">Boolean</span></span>|<span data-ttu-id="c1689-171">Указывает, производится ли повторное использование объекта службы после завершения текущей транзакции.</span><span class="sxs-lookup"><span data-stu-id="c1689-171">Specifies whether the service object is recycled when the current transaction completes.</span></span>|  
|<span data-ttu-id="c1689-172">TransactionAutoCompleteOnSessionClose</span><span class="sxs-lookup"><span data-stu-id="c1689-172">TransactionAutoCompleteOnSessionClose</span></span>|<span data-ttu-id="c1689-173">Логическое</span><span class="sxs-lookup"><span data-stu-id="c1689-173">Boolean</span></span>|<span data-ttu-id="c1689-174">Указывает, завершаются ли ожидающие транзакции при закрытии текущего сеанса.</span><span class="sxs-lookup"><span data-stu-id="c1689-174">Specifies whether pending transactions are completed when the current session closes.</span></span>|  
|<span data-ttu-id="c1689-175">TransactionIsolationLevel</span><span class="sxs-lookup"><span data-stu-id="c1689-175">TransactionIsolationLevel</span></span>|<span data-ttu-id="c1689-176">Строка, содержащая допустимое значение перечисления <xref:System.Transactions.IsolationLevel>.</span><span class="sxs-lookup"><span data-stu-id="c1689-176">A string that contains a valid value of the <xref:System.Transactions.IsolationLevel> enumeration.</span></span>|<span data-ttu-id="c1689-177">Задает уровень изоляции транзакции, поддерживаемый этой службой.</span><span class="sxs-lookup"><span data-stu-id="c1689-177">Specifies the transaction isolation level that this service supports.</span></span>|  
|<span data-ttu-id="c1689-178">TransactionTimeout</span><span class="sxs-lookup"><span data-stu-id="c1689-178">TransactionTimeout</span></span>|<xref:System.DateTime>|<span data-ttu-id="c1689-179">Задает период времени, в течение которого транзакция должна быть завершена.</span><span class="sxs-lookup"><span data-stu-id="c1689-179">Specifies the period within which a transaction must complete.</span></span>|  
  
 <span data-ttu-id="c1689-180">Атрибут `ServiceTimeoutsBehavior` имеет следующее свойство.</span><span class="sxs-lookup"><span data-stu-id="c1689-180">The `ServiceTimeoutsBehavior` has the following property.</span></span>  
  
|<span data-ttu-id="c1689-181">Имя</span><span class="sxs-lookup"><span data-stu-id="c1689-181">Name</span></span>|<span data-ttu-id="c1689-182">Тип</span><span class="sxs-lookup"><span data-stu-id="c1689-182">Type</span></span>|<span data-ttu-id="c1689-183">Описание</span><span class="sxs-lookup"><span data-stu-id="c1689-183">Description</span></span>|  
|----------|----------|-----------------|  
|<span data-ttu-id="c1689-184">TransactionTimeout</span><span class="sxs-lookup"><span data-stu-id="c1689-184">TransactionTimeout</span></span>|<xref:System.DateTime>|<span data-ttu-id="c1689-185">Задает период времени, в течение которого транзакция должна быть завершена.</span><span class="sxs-lookup"><span data-stu-id="c1689-185">Specifies the period within which a transaction must complete.</span></span>|  
  
 <span data-ttu-id="c1689-186">В привязке атрибут `TransactionFlowBindingElement` имеет следующие свойства.</span><span class="sxs-lookup"><span data-stu-id="c1689-186">On a binding, the `TransactionFlowBindingElement` has the following properties.</span></span>  
  
|<span data-ttu-id="c1689-187">Имя</span><span class="sxs-lookup"><span data-stu-id="c1689-187">Name</span></span>|<span data-ttu-id="c1689-188">Тип</span><span class="sxs-lookup"><span data-stu-id="c1689-188">Type</span></span>|<span data-ttu-id="c1689-189">Описание</span><span class="sxs-lookup"><span data-stu-id="c1689-189">Description</span></span>|  
|----------|----------|-----------------|  
|<span data-ttu-id="c1689-190">TransactionProtocol</span><span class="sxs-lookup"><span data-stu-id="c1689-190">TransactionProtocol</span></span>|<span data-ttu-id="c1689-191">Строка, содержащая допустимое значение типа <xref:System.ServiceModel.TransactionProtocol>.</span><span class="sxs-lookup"><span data-stu-id="c1689-191">A string that contains a valid value of the <xref:System.ServiceModel.TransactionProtocol> type.</span></span>|<span data-ttu-id="c1689-192">Указывает протокол транзакций, используемый при передаче транзакций.</span><span class="sxs-lookup"><span data-stu-id="c1689-192">Specifies the transaction protocol to use in flowing a transaction.</span></span>|  
|<span data-ttu-id="c1689-193">TransactionFlow</span><span class="sxs-lookup"><span data-stu-id="c1689-193">TransactionFlow</span></span>|<span data-ttu-id="c1689-194">Логическое</span><span class="sxs-lookup"><span data-stu-id="c1689-194">Boolean</span></span>|<span data-ttu-id="c1689-195">Задает, включен ли входящий поток транзакций.</span><span class="sxs-lookup"><span data-stu-id="c1689-195">Specifies whether incoming transaction flow is enabled.</span></span>|  
  
 <span data-ttu-id="c1689-196">В операции атрибут `OperationBehaviorAttribute` имеет следующие свойства.</span><span class="sxs-lookup"><span data-stu-id="c1689-196">On an operation, the `OperationBehaviorAttribute` has the following properties:</span></span>  
  
|<span data-ttu-id="c1689-197">Имя</span><span class="sxs-lookup"><span data-stu-id="c1689-197">Name</span></span>|<span data-ttu-id="c1689-198">Тип</span><span class="sxs-lookup"><span data-stu-id="c1689-198">Type</span></span>|<span data-ttu-id="c1689-199">Описание</span><span class="sxs-lookup"><span data-stu-id="c1689-199">Description</span></span>|  
|----------|----------|-----------------|  
|<span data-ttu-id="c1689-200">TransactionAutoComplete</span><span class="sxs-lookup"><span data-stu-id="c1689-200">TransactionAutoComplete</span></span>|<span data-ttu-id="c1689-201">Логическое</span><span class="sxs-lookup"><span data-stu-id="c1689-201">Boolean</span></span>|<span data-ttu-id="c1689-202">Указывает, следует ли автоматически фиксировать текущую транзакцию при отсутствии необработанных исключений.</span><span class="sxs-lookup"><span data-stu-id="c1689-202">Specifies whether to automatically commit the current transaction if no unhandled exceptions occur.</span></span>|  
|<span data-ttu-id="c1689-203">TransactionScopeRequired</span><span class="sxs-lookup"><span data-stu-id="c1689-203">TransactionScopeRequired</span></span>|<span data-ttu-id="c1689-204">Логическое</span><span class="sxs-lookup"><span data-stu-id="c1689-204">Boolean</span></span>|<span data-ttu-id="c1689-205">Указывает, требует ли операция транзакции.</span><span class="sxs-lookup"><span data-stu-id="c1689-205">Specifies whether the operation requires a transaction.</span></span>|  
  
 <span data-ttu-id="c1689-206">В операции атрибут `TransactionFlowAttribute` имеет следующие свойства.</span><span class="sxs-lookup"><span data-stu-id="c1689-206">On an operation, the `TransactionFlowAttribute` has the following properties.</span></span>  
  
|<span data-ttu-id="c1689-207">Имя</span><span class="sxs-lookup"><span data-stu-id="c1689-207">Name</span></span>|<span data-ttu-id="c1689-208">Тип</span><span class="sxs-lookup"><span data-stu-id="c1689-208">Type</span></span>|<span data-ttu-id="c1689-209">Описание</span><span class="sxs-lookup"><span data-stu-id="c1689-209">Description</span></span>|  
|----------|----------|-----------------|  
|<span data-ttu-id="c1689-210">TransactionFlowOption</span><span class="sxs-lookup"><span data-stu-id="c1689-210">TransactionFlowOption</span></span>|<span data-ttu-id="c1689-211">Строка, содержащая допустимое значение перечисления <xref:System.ServiceModel.TransactionFlowOption>.</span><span class="sxs-lookup"><span data-stu-id="c1689-211">A string that contains a valid value of the <xref:System.ServiceModel.TransactionFlowOption> enumeration.</span></span>|<span data-ttu-id="c1689-212">Задает область, к которой требуется поток транзакций.</span><span class="sxs-lookup"><span data-stu-id="c1689-212">Specifies the extent to which transaction flow is required.</span></span>|  
  
## <a name="tracing"></a><span data-ttu-id="c1689-213">Трассировка</span><span class="sxs-lookup"><span data-stu-id="c1689-213">Tracing</span></span>  

 <span data-ttu-id="c1689-214">Трассировка позволяет контролировать и анализировать ошибки в транзакционных приложениях.</span><span class="sxs-lookup"><span data-stu-id="c1689-214">Traces enable you to monitor and analyze faults in your transactional applications.</span></span> <span data-ttu-id="c1689-215">Трассировку можно включить следующими способами.</span><span class="sxs-lookup"><span data-stu-id="c1689-215">You can enable tracing using the following ways:</span></span>  
  
- <span data-ttu-id="c1689-216">Стандартная трассировка WCF</span><span class="sxs-lookup"><span data-stu-id="c1689-216">Standard WCF tracing</span></span>  
  
     <span data-ttu-id="c1689-217">Этот тип трассировки аналогичен трассировке любого приложения WCF.</span><span class="sxs-lookup"><span data-stu-id="c1689-217">This type of tracing is the same as tracing any WCF application.</span></span> <span data-ttu-id="c1689-218">Для получения дополнительной информации см. [Configuring Tracing](../diagnostics/tracing/configuring-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="c1689-218">For more information, see [Configuring Tracing](../diagnostics/tracing/configuring-tracing.md).</span></span>  
  
- <span data-ttu-id="c1689-219">Трассировка WS-AtomicTransaction</span><span class="sxs-lookup"><span data-stu-id="c1689-219">WS-AtomicTransaction tracing</span></span>  
  
     <span data-ttu-id="c1689-220">Трассировку WS-AtomicTransaction можно включить с помощью [служебной программы настройки WS-AtomicTransaction (wsatConfig.exe)](../ws-atomictransaction-configuration-utility-wsatconfig-exe.md).</span><span class="sxs-lookup"><span data-stu-id="c1689-220">WS-AtomicTransaction tracing can be enabled by using the [WS-AtomicTransaction Configuration Utility (wsatConfig.exe)](../ws-atomictransaction-configuration-utility-wsatconfig-exe.md).</span></span> <span data-ttu-id="c1689-221">Такая трассировка позволяет контролировать состояние транзакций и участников внутри системы.</span><span class="sxs-lookup"><span data-stu-id="c1689-221">Such tracing provides insight into the state of transactions and participants within a system.</span></span> <span data-ttu-id="c1689-222">Чтобы включить также и трассировку модели службы, можно задать для ключа реестра `HKLM\SOFTWARE\Microsoft\WSAT\3.0\ServiceModelDiagnosticTracing` допустимое значение перечисления <xref:System.Diagnostics.SourceLevels>.</span><span class="sxs-lookup"><span data-stu-id="c1689-222">To also enable internal Service Model tracing, you can set the `HKLM\SOFTWARE\Microsoft\WSAT\3.0\ServiceModelDiagnosticTracing` registry key to a valid value of the <xref:System.Diagnostics.SourceLevels> enumeration.</span></span> <span data-ttu-id="c1689-223">Ведение журнала сообщений можно включить точно так же, как и другие приложения WCF.</span><span class="sxs-lookup"><span data-stu-id="c1689-223">You can enable message logging in the same way as other WCF applications.</span></span>  
  
- <span data-ttu-id="c1689-224">Трассировка `System.Transactions`</span><span class="sxs-lookup"><span data-stu-id="c1689-224">`System.Transactions` tracing</span></span>  
  
     <span data-ttu-id="c1689-225">При использовании протокола OleTransactions возможна трассировка сообщений протокола.</span><span class="sxs-lookup"><span data-stu-id="c1689-225">When using the OleTransactions protocol, protocol messages cannot be traced.</span></span> <span data-ttu-id="c1689-226">Поддержка трассировки, предоставляемая инфраструктурой <xref:System.Transactions> (которая использует протокол OleTransactions), позволяет пользователям просматривать события, происходящие с транзакциями.</span><span class="sxs-lookup"><span data-stu-id="c1689-226">The tracing support the <xref:System.Transactions> infrastructure provides (which uses OleTransactions) allows users to view events that occurred to the transactions.</span></span> <span data-ttu-id="c1689-227">Чтобы включить трассировку для приложения <xref:System.Transactions>, поместите приведенный ниже код в файл конфигурации `App.config`.</span><span class="sxs-lookup"><span data-stu-id="c1689-227">To enable tracing for a <xref:System.Transactions> application, include the following code in the `App.config` configuration file.</span></span>  
  
    ```xml  
    <configuration>  
      <system.diagnostics>  
         <sources>  
            <source name="System.Transactions" switchValue="Verbose, ActivityTracing">  
               <listeners>  
                  <add name="Text"  
                     type="System.Diagnostics.XmlWriterTraceListener"  
                     initializeData="SysTx.log"  
                     traceOutputOptions="Callstack" />  
               </listeners>  
            </source>  
         </sources>  
         <trace autoflush="true" indentsize="4">  
         </trace>  
      </system.diagnostics>  
    </configuration>  
    ```  
  
     <span data-ttu-id="c1689-228">Это также обеспечивает трассировку WCF, так как WCF также использует <xref:System.Transactions> инфраструктуру.</span><span class="sxs-lookup"><span data-stu-id="c1689-228">This also enables WCF tracing, as WCF also utilizes the <xref:System.Transactions> infrastructure.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c1689-229">См. также</span><span class="sxs-lookup"><span data-stu-id="c1689-229">See also</span></span>

- [<span data-ttu-id="c1689-230">Администрирование и диагностика</span><span class="sxs-lookup"><span data-stu-id="c1689-230">Administration and Diagnostics</span></span>](../diagnostics/index.md)
- [<span data-ttu-id="c1689-231">Настройка трассировки</span><span class="sxs-lookup"><span data-stu-id="c1689-231">Configuring Tracing</span></span>](../diagnostics/tracing/configuring-tracing.md)
- [<span data-ttu-id="c1689-232">Программа конфигурации WS-AtomicTransaction (wsatConfig.exe)</span><span class="sxs-lookup"><span data-stu-id="c1689-232">WS-AtomicTransaction Configuration Utility (wsatConfig.exe)</span></span>](../ws-atomictransaction-configuration-utility-wsatconfig-exe.md)
