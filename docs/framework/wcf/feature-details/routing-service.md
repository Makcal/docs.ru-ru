---
description: 'Дополнительные сведения: служба маршрутизации'
title: Служба маршрутизации
ms.date: 03/30/2017
ms.assetid: ca7c216a-5141-4132-8193-102c181d2eba
ms.openlocfilehash: 29fec780e6bc9266a8fe17d779ff0998e13e5c68
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2021
ms.locfileid: "99733259"
---
# <a name="routing-service"></a><span data-ttu-id="fb3af-103">Служба маршрутизации</span><span class="sxs-lookup"><span data-stu-id="fb3af-103">Routing Service</span></span>

<span data-ttu-id="fb3af-104">Служба маршрутизации является универсальным посредником протокола SOAP, действующим в качестве маршрутизатора сообщений.</span><span class="sxs-lookup"><span data-stu-id="fb3af-104">The Routing Service is a generic SOAP intermediary that acts as a message router.</span></span> <span data-ttu-id="fb3af-105">Основной функцией службы маршрутизации является возможность перенаправлять сообщения, исходя из их содержимого, благодаря чему сообщение можно переслать конечной точке клиента в зависимости от значения в самом сообщении, находящемся в заголовке или в тексте сообщения.</span><span class="sxs-lookup"><span data-stu-id="fb3af-105">The core functionality of the Routing Service is the ability to route messages based on message content, which allows a message to be forwarded to a client endpoint based on a value within the message itself, in either the header or the message body.</span></span>

<span data-ttu-id="fb3af-106"><xref:System.ServiceModel.Routing.RoutingService>Реализуется как служба Windows Communication Foundation (WCF) в <xref:System.ServiceModel.Routing> пространстве имен.</span><span class="sxs-lookup"><span data-stu-id="fb3af-106">The <xref:System.ServiceModel.Routing.RoutingService> is implemented as a Windows Communication Foundation (WCF) service in the <xref:System.ServiceModel.Routing> namespace.</span></span> <span data-ttu-id="fb3af-107">Служба маршрутизации обеспечивает доступ к одной или нескольким конечным точкам служб, которые производят получение сообщений и их маршрутизацию к одной или нескольким клиентским конечным точкам в зависимости от содержимого.</span><span class="sxs-lookup"><span data-stu-id="fb3af-107">The Routing Service exposes one or more service endpoints that receive messages and then routes each message to one or more client endpoints based on the message content.</span></span> <span data-ttu-id="fb3af-108">Служба предоставляет следующие функциональные возможности.</span><span class="sxs-lookup"><span data-stu-id="fb3af-108">The service provides the following features:</span></span>

- <span data-ttu-id="fb3af-109">Маршрутизация на основе содержимого</span><span class="sxs-lookup"><span data-stu-id="fb3af-109">Content-based routing</span></span>

  - <span data-ttu-id="fb3af-110">Статистическая обработка служб</span><span class="sxs-lookup"><span data-stu-id="fb3af-110">Service aggregation</span></span>

  - <span data-ttu-id="fb3af-111">Управление версиями служб</span><span class="sxs-lookup"><span data-stu-id="fb3af-111">Service versioning</span></span>

  - <span data-ttu-id="fb3af-112">Приоритетная маршрутизация</span><span class="sxs-lookup"><span data-stu-id="fb3af-112">Priority routing</span></span>

  - <span data-ttu-id="fb3af-113">Динамическая конфигурация</span><span class="sxs-lookup"><span data-stu-id="fb3af-113">Dynamic configuration</span></span>

- <span data-ttu-id="fb3af-114">Связывание протоколов</span><span class="sxs-lookup"><span data-stu-id="fb3af-114">Protocol bridging</span></span>

- <span data-ttu-id="fb3af-115">Обработка протокола SOAP</span><span class="sxs-lookup"><span data-stu-id="fb3af-115">SOAP processing</span></span>

- <span data-ttu-id="fb3af-116">Расширенная обработка ошибок.</span><span class="sxs-lookup"><span data-stu-id="fb3af-116">Advanced error handling</span></span>

- <span data-ttu-id="fb3af-117">Резервные конечные точки</span><span class="sxs-lookup"><span data-stu-id="fb3af-117">Backup endpoints</span></span>

<span data-ttu-id="fb3af-118">Поскольку создание службы-посредника направлено на достижение одной или нескольких из этих задач, очень часто такая реализация привязана к конкретному сценарию или решению и поэтому неприменима ко всем новым приложениям.</span><span class="sxs-lookup"><span data-stu-id="fb3af-118">While it is possible to create an intermediary service that accomplishes one or more of these goals, often such an implementation is tied to a specific scenario or solution and cannot be readily applied to new applications.</span></span>

<span data-ttu-id="fb3af-119">Служба Routing Service предоставляет универсальный, динамически настраиваемый подключаемый сервер SOAP, совместимый с моделями служб и каналов WCF, и позволяет выполнять маршрутизацию сообщений на основе SOAP на основе содержимого.</span><span class="sxs-lookup"><span data-stu-id="fb3af-119">The Routing Service provides a generic, dynamically configurable, pluggable SOAP intermediary that is compatible with the WCF Service and Channel models and allows you to perform content-based routing of SOAP-based messages.</span></span>

> [!NOTE]
> <span data-ttu-id="fb3af-120">Служба маршрутизации в настоящее время не поддерживает маршрутизацию служб WCF REST.</span><span class="sxs-lookup"><span data-stu-id="fb3af-120">The Routing Service does not currently support routing of WCF REST services.</span></span>  <span data-ttu-id="fb3af-121">Для маршрутизации вызовов RESTFUL рассмотрите возможность использования <xref:System.Web.Routing> или [маршрутизации запросов приложений](https://go.microsoft.com/fwlink/?LinkId=164589).</span><span class="sxs-lookup"><span data-stu-id="fb3af-121">To route REST calls, consider using <xref:System.Web.Routing> or [Application Request Routing](https://go.microsoft.com/fwlink/?LinkId=164589).</span></span>

## <a name="content-based-routing"></a><span data-ttu-id="fb3af-122">Маршрутизация на основе содержимого</span><span class="sxs-lookup"><span data-stu-id="fb3af-122">Content-Based Routing</span></span>

<span data-ttu-id="fb3af-123">Маршрутизация на основе содержимого - это возможность перенаправления сообщения на основе одного или нескольких содержащихся в нем значений.</span><span class="sxs-lookup"><span data-stu-id="fb3af-123">Content-based routing is the ability to route a message based on one or more values contained within the message.</span></span> <span data-ttu-id="fb3af-124">Служба маршрутизации проверяет каждое сообщение и перенаправляет его в целевую конечную точку, определяемую на основе содержимого сообщения и созданной логики маршрутизации.</span><span class="sxs-lookup"><span data-stu-id="fb3af-124">The Routing Service inspects each message and routes it to the destination endpoint based on the message contents and the routing logic you create.</span></span> <span data-ttu-id="fb3af-125">Маршрутизация на основе содержимого обеспечивает основу статистической обработки служб, управления версиями и приоритетами.</span><span class="sxs-lookup"><span data-stu-id="fb3af-125">Content-based routing provides the basis for service aggregation, service versioning, and priority routing.</span></span>

<span data-ttu-id="fb3af-126">Реализация маршрутизации на основе содержимого строится на реализациях <xref:System.ServiceModel.Dispatcher.MessageFilter>, которые служат для поиска определенных значений в маршрутизируемых сообщениях.</span><span class="sxs-lookup"><span data-stu-id="fb3af-126">To implement content-based routing, the Routing Service relies on <xref:System.ServiceModel.Dispatcher.MessageFilter> implementations that are used to match specific values within the messages to be routed.</span></span> <span data-ttu-id="fb3af-127">Если **MessageFilter** соответствует сообщению, сообщение направляется в конечную точку назначения, связанную с **MessageFilter**.</span><span class="sxs-lookup"><span data-stu-id="fb3af-127">If a **MessageFilter** matches a message, the message is routed to the destination endpoint associated with the **MessageFilter**.</span></span>  <span data-ttu-id="fb3af-128">Для построения сложной логики маршрутизации фильтры сообщений группируются в таблицы фильтров (<xref:System.ServiceModel.Routing.Configuration.FilterTableCollection>).</span><span class="sxs-lookup"><span data-stu-id="fb3af-128">Message filters are grouped together into filter tables (<xref:System.ServiceModel.Routing.Configuration.FilterTableCollection>) to construct complex routing logic.</span></span> <span data-ttu-id="fb3af-129">Например, таблица фильтров может содержать пять взаимоисключающих фильтров, которые приводят к маршрутизации сообщений только к одной из пяти целевых конечных точек.</span><span class="sxs-lookup"><span data-stu-id="fb3af-129">For example, a filter table might contain five mutually exclusive message filters that cause messages to be routed to only one of the five destination endpoints.</span></span>

<span data-ttu-id="fb3af-130">Служба маршрутизации позволяет настроить логику, используемую для выполнения маршрутизации исходя из содержимого сообщений, а также динамически обновлять ее во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="fb3af-130">The Routing Service allows you to configure the logic that is used to perform content-based routing, as well as dynamically update the routing logic at run time.</span></span>

<span data-ttu-id="fb3af-131">Логика маршрутизации может быть построена за счет группирования фильтров сообщений в таблицы фильтров. Это позволяет обрабатывать несколько сценариев маршрутизации, например:</span><span class="sxs-lookup"><span data-stu-id="fb3af-131">Through the grouping of message filters into filter tables, routing logic can be constructed that allows you to handle multiple routing scenarios such as:</span></span>

- <span data-ttu-id="fb3af-132">Статистическая обработка служб</span><span class="sxs-lookup"><span data-stu-id="fb3af-132">Service aggregation</span></span>

- <span data-ttu-id="fb3af-133">Управление версиями служб</span><span class="sxs-lookup"><span data-stu-id="fb3af-133">Service versioning</span></span>

- <span data-ttu-id="fb3af-134">Приоритетная маршрутизация</span><span class="sxs-lookup"><span data-stu-id="fb3af-134">Priority routing</span></span>

- <span data-ttu-id="fb3af-135">Динамическая конфигурация</span><span class="sxs-lookup"><span data-stu-id="fb3af-135">Dynamic configuration</span></span>

<span data-ttu-id="fb3af-136">Дополнительные сведения о фильтрах сообщений и таблицах фильтров см. в разделе [Маршрутизация введения](routing-introduction.md) и фильтрация [сообщений](message-filters.md).</span><span class="sxs-lookup"><span data-stu-id="fb3af-136">For more information about message filters and filter tables, see [Routing Introduction](routing-introduction.md) and [Message Filters](message-filters.md).</span></span>

### <a name="service-aggregation"></a><span data-ttu-id="fb3af-137">Статистическая обработка служб</span><span class="sxs-lookup"><span data-stu-id="fb3af-137">Service Aggregation</span></span>

<span data-ttu-id="fb3af-138">Маршрутизация на основе содержимого позволяет через одну конечную точку принимать сообщения от внешних клиентских приложений и перенаправлять их соответствующим внутренним конечным точкам в соответствии со значениями, содержащимися в сообщениях.</span><span class="sxs-lookup"><span data-stu-id="fb3af-138">By using content-based routing, you can expose one endpoint that receives messages from external client applications and then routes each message to the appropriate internal endpoint based on a value within the message.</span></span> <span data-ttu-id="fb3af-139">Это полезно в случае, если через одну конечную точку работает несколько серверных приложений, или при необходимости разбить на несколько служб приложение, которое для клиентов должно быть представлено одной конечной точкой приложения.</span><span class="sxs-lookup"><span data-stu-id="fb3af-139">This is useful to offer one specific endpoint for a variety of back-end applications, and also to present one application endpoint to customers while factoring your application into a variety of services.</span></span>

### <a name="service-versioning"></a><span data-ttu-id="fb3af-140">Управление версиями службы</span><span class="sxs-lookup"><span data-stu-id="fb3af-140">Service Versioning</span></span>

<span data-ttu-id="fb3af-141">При переходе на новую версию решения приходится обеспечивать параллельную работу старой версии для существующих клиентов.</span><span class="sxs-lookup"><span data-stu-id="fb3af-141">When migrating to a new version of your solution, you may have to maintain the old version in parallel to serve existing customers.</span></span> <span data-ttu-id="fb3af-142">Часто для этого клиентам для обмена данными с решением приходится устанавливать соединение с новой версией по новому адресу.</span><span class="sxs-lookup"><span data-stu-id="fb3af-142">Often this requires that clients connecting to the newer version must use a different address when communicating with the solution.</span></span> <span data-ttu-id="fb3af-143">Служба маршрутизации позволяет клиентам обеих версий производить доступ через одну конечную точку службы, перенаправляя сообщения нужным решениям исходя из их содержимого.</span><span class="sxs-lookup"><span data-stu-id="fb3af-143">The Routing Service allows you to expose one service endpoint that serves both versions of your solution by routing messages to the appropriate solution based on version-specific information contained in the message.</span></span> <span data-ttu-id="fb3af-144">Пример такой реализации см. [в разделе как выполнять управление версиями служб](how-to-service-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="fb3af-144">For an example of such an implementation see [How To: Service Versioning](how-to-service-versioning.md).</span></span>

### <a name="priority-routing"></a><span data-ttu-id="fb3af-145">Приоритетная маршрутизация</span><span class="sxs-lookup"><span data-stu-id="fb3af-145">Priority Routing</span></span>

<span data-ttu-id="fb3af-146">При обслуживании множества клиентов с некоторыми из них может быть заключено соглашение об уровне обслуживания (SLA), предусматривающее обработку их данных отдельно от других клиентов.</span><span class="sxs-lookup"><span data-stu-id="fb3af-146">When providing a service for multiple clients, you may have a service level agreement (SLA) with some partners that requires all data from these partners to be processed separately from that of other clients.</span></span> <span data-ttu-id="fb3af-147">Применение фильтра для поиска информации о клиенте, содержащейся в сообщении, легко позволяет выполнить маршрутизацию сообщений от конкретных партнеров до конечной точки, созданной для того, чтобы обеспечить соответствие соглашениям SLA.</span><span class="sxs-lookup"><span data-stu-id="fb3af-147">By using a filter that looks for customer-specific information contained in the message, you can easily route messages from specific partners to an endpoint that has been created to meet their SLA requirements.</span></span>

## <a name="dynamic-configuration"></a><span data-ttu-id="fb3af-148">Динамическая конфигурация</span><span class="sxs-lookup"><span data-stu-id="fb3af-148">Dynamic Configuration</span></span>

<span data-ttu-id="fb3af-149">Для поддержки систем обработки критически важных данных, где сообщения должны обрабатываться без перерывов в работе служб, возможность изменения конфигурации компонентов в системе во время выполнения весьма существенна.</span><span class="sxs-lookup"><span data-stu-id="fb3af-149">To support mission-critical systems, where messages must be processed without any service interruptions, it is vital that you be able to modify the configuration of components within the system at run time.</span></span> <span data-ttu-id="fb3af-150">В поддержку этого требования служба маршрутизации обеспечивает реализацию интерфейса <xref:System.ServiceModel.IExtension%601>, класс <xref:System.ServiceModel.Routing.RoutingExtension>, который позволяет динамически обновлять конфигурацию службы маршрутизации во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="fb3af-150">To support this need, the Routing Service provides an <xref:System.ServiceModel.IExtension%601> implementation, the <xref:System.ServiceModel.Routing.RoutingExtension>, which allows dynamic updating of the Routing Service configuration at run time.</span></span>

<span data-ttu-id="fb3af-151">Дополнительные сведения о динамической конфигурации службы маршрутизации см. в разделе [Введение в маршрутизацию](routing-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="fb3af-151">For more information about dynamic configuration of the Routing Service, see [Routing Introduction](routing-introduction.md).</span></span>

## <a name="protocol-bridging"></a><span data-ttu-id="fb3af-152">Связывание протоколов</span><span class="sxs-lookup"><span data-stu-id="fb3af-152">Protocol Bridging</span></span>

<span data-ttu-id="fb3af-153">Одной из проблем, возникающих в сценариях с использованием посредника, является то, что конечная точка может использовать транспорт и версию SOAP, отличные от конечной точки, которая занимается приемом сообщений.</span><span class="sxs-lookup"><span data-stu-id="fb3af-153">One of the challenges in intermediary scenarios is that the internal endpoints may have different transport or SOAP version requirements than the endpoint that messages are received on.</span></span> <span data-ttu-id="fb3af-154">Для поддержки таких сценариев служба маршрутизации может обеспечивать преобразование протокола, а также выполнять обработку сообщений SOAP с помощью версии <xref:System.ServiceModel.Channels.MessageVersion>, необходимой целевым конечным точкам.</span><span class="sxs-lookup"><span data-stu-id="fb3af-154">To support this scenario, the Routing Service can bridge protocols, including processing the SOAP message to the <xref:System.ServiceModel.Channels.MessageVersion> required by the destination endpoint(s).</span></span> <span data-ttu-id="fb3af-155">Таким образом, для внутреннего обмена данными может быть использован один протокол, а для внешнего - другой.</span><span class="sxs-lookup"><span data-stu-id="fb3af-155">In this way, one protocol can be used for internal communication, while another can be used for external communication.</span></span>

<span data-ttu-id="fb3af-156">Для поддержки маршрутизации сообщений между конечными точками с различными транспортными протоколами служба маршрутизации использует предоставляемые системой привязки, которые позволяют ей обеспечивать взаимодействие между разными протоколами.</span><span class="sxs-lookup"><span data-stu-id="fb3af-156">To support the routing of messages between endpoints with different transports, the Routing Service uses system-provided bindings that enable the service to bridge dissimilar protocols.</span></span> <span data-ttu-id="fb3af-157">Это происходит автоматически, когда конечная точка службы, реализованная службой маршрутизации, использует протокол, отличный от протокола, используемого клиентскими точками, которым передаются сообщения.</span><span class="sxs-lookup"><span data-stu-id="fb3af-157">This occurs automatically when the service endpoint exposed by the Routing Service uses a different protocol than the client endpoints that messages are routed to.</span></span>

## <a name="soap-processing"></a><span data-ttu-id="fb3af-158">Обработка SOAP</span><span class="sxs-lookup"><span data-stu-id="fb3af-158">SOAP Processing</span></span>

<span data-ttu-id="fb3af-159">Общее требование - возможность маршрутизации сообщений между конечными точками с различными требованиями SOAP.</span><span class="sxs-lookup"><span data-stu-id="fb3af-159">A common routing requirement is the ability to route messages between endpoints with differing SOAP requirements.</span></span> <span data-ttu-id="fb3af-160">Для поддержки этого требования служба маршрутизации предоставляет <xref:System.ServiceModel.Routing.SoapProcessingBehavior> , который автоматически создает новый **MessageVersion** , который соответствует требованиям конечной точки назначения до того, как сообщение направляется в него.</span><span class="sxs-lookup"><span data-stu-id="fb3af-160">To support this requirement, the Routing Service provides a <xref:System.ServiceModel.Routing.SoapProcessingBehavior> that automatically creates a new **MessageVersion** that meets the requirements of the destination endpoint before the message is routed to it.</span></span> <span data-ttu-id="fb3af-161">Это поведение также создает новый **MessageVersion** для любого ответного сообщения, прежде чем возвратить его запрашивающему клиентскому приложению, чтобы убедиться, что **MessageVersion** ответа совпадает с исходным запросом.</span><span class="sxs-lookup"><span data-stu-id="fb3af-161">This behavior also creates a new **MessageVersion** for any response message before returning it to the requesting client application, to ensure that the **MessageVersion** of the response matches that of the original request.</span></span>

<span data-ttu-id="fb3af-162">Дополнительные сведения об обработке SOAP см. в разделе [Введение в маршрутизацию](routing-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="fb3af-162">For more information about SOAP processing, see [Routing Introduction](routing-introduction.md).</span></span>

## <a name="error-handling"></a><span data-ttu-id="fb3af-163">Обработка ошибок</span><span class="sxs-lookup"><span data-stu-id="fb3af-163">Error Handling</span></span>

<span data-ttu-id="fb3af-164">В системах, состоящих из распределенных служб, которые зависят от сетевого взаимодействия, важно обеспечить устойчивость системы к временным отказам.</span><span class="sxs-lookup"><span data-stu-id="fb3af-164">In a system composed of distributed services that rely on network communications, it is important to ensure that communications within your system are resistant to transient network failures.</span></span>  <span data-ttu-id="fb3af-165">Служба маршрутизации реализует обработку ошибок, позволяющую обрабатывать различные сценарии сбоев взаимодействия, которые могут привести к простою службы.</span><span class="sxs-lookup"><span data-stu-id="fb3af-165">The Routing Service implements error handling that allows you to handle many communication failure scenarios that might otherwise result in a service outage.</span></span>

<span data-ttu-id="fb3af-166">Если служба маршрутизации обнаружила исключение <xref:System.ServiceModel.CommunicationException> при попытке отправки сообщения, то будет выполнена обработка ошибок.</span><span class="sxs-lookup"><span data-stu-id="fb3af-166">If the Routing Service encounters a <xref:System.ServiceModel.CommunicationException> while attempting to send a message, error handling will take place.</span></span>  <span data-ttu-id="fb3af-167">Эти исключения обычно указывают на то, что при попытке связаться с определенной конечной точкой клиента была обнаружена проблема, например <xref:System.ServiceModel.EndpointNotFoundException>, <xref:System.ServiceModel.ServerTooBusyException> или <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span><span class="sxs-lookup"><span data-stu-id="fb3af-167">These exceptions typically indicate that a problem was encountered while attempting to communicate with the defined client endpoint, such as an <xref:System.ServiceModel.EndpointNotFoundException>, <xref:System.ServiceModel.ServerTooBusyException>, or <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span></span>  <span data-ttu-id="fb3af-168">Код обработки ошибок также перехватывает и пытается повторить отправку при возникновении **TimeoutException** , что является еще одним распространенным исключением, которое не является производным от **CommunicationException**.</span><span class="sxs-lookup"><span data-stu-id="fb3af-168">The error-handling code will also catch and attempt to retry sending when a **TimeoutException** occurs, which is another common exception that is not derived from **CommunicationException**.</span></span>

<span data-ttu-id="fb3af-169">Дополнительные сведения об обработке ошибок см. в разделе [Введение в маршрутизацию](routing-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="fb3af-169">For more information about error handling, see [Routing Introduction](routing-introduction.md).</span></span>

## <a name="backup-endpoints"></a><span data-ttu-id="fb3af-170">Резервные конечные точки</span><span class="sxs-lookup"><span data-stu-id="fb3af-170">Backup Endpoints</span></span>

<span data-ttu-id="fb3af-171">Помимо целевых клиентских конечных точек, связанных с определениями фильтров в таблице фильтров, можно создать также список резервных конечных точек. В случае ошибки передачи данных будет выполнена маршрутизация сообщения к этим резервным конечным точкам.</span><span class="sxs-lookup"><span data-stu-id="fb3af-171">In addition to the destination client endpoints associated with each filter definition in the filter table, you can also create a list of backup endpoints that the message will be routed to in the event of a transmission failure.</span></span> <span data-ttu-id="fb3af-172">Если для записи фильтра определен резервный список, то при возникновении ошибки служба маршрутизации попытается отправить сообщение к первой конечной точке из этого списка.</span><span class="sxs-lookup"><span data-stu-id="fb3af-172">If an error occurs and a backup list is defined for the filter entry, the Routing Service will attempt to send the message to the first endpoint defined in the list.</span></span> <span data-ttu-id="fb3af-173">Если передача данных завершилась ошибкой, то служба пытается отправить сообщение следующей конечной точке. Этот процесс продолжается до тех пор, пока операция не будет выполнена успешно, пока не будет возвращена ошибка, не связанная с передачей данных, либо до конца резервного списка.</span><span class="sxs-lookup"><span data-stu-id="fb3af-173">If this transmission attempt fails, the service will try the next endpoint, and continue this process until the transmission attempt succeeds, returns a non-transmission related error, or all endpoints in the backup list have returned a transmission error.</span></span>

<span data-ttu-id="fb3af-174">Дополнительные сведения о конечных точках резервного копирования см. в разделе [Маршрутизация введения](routing-introduction.md) и [фильтры сообщений](message-filters.md).</span><span class="sxs-lookup"><span data-stu-id="fb3af-174">For more information about backup endpoints, see [Routing Introduction](routing-introduction.md) and [Message Filters](message-filters.md).</span></span>

## <a name="streaming"></a><span data-ttu-id="fb3af-175">Потоковая передача</span><span class="sxs-lookup"><span data-stu-id="fb3af-175">Streaming</span></span>

<span data-ttu-id="fb3af-176">Служба маршрутизации может успешно передавать сообщения, если задать привязку для поддержки потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="fb3af-176">The routing service can successfully stream messages if you set the binding to support streaming.</span></span>  <span data-ttu-id="fb3af-177">Однако существуют определенные условия, при которых сообщения необходимо помещать в буфер.</span><span class="sxs-lookup"><span data-stu-id="fb3af-177">However, there are some conditions under which messages may need to buffered:</span></span>

- <span data-ttu-id="fb3af-178">Многоадресность (буфер для создания дополнительных копий сообщения)</span><span class="sxs-lookup"><span data-stu-id="fb3af-178">Multicast (buffer to create additional message copies)</span></span>

- <span data-ttu-id="fb3af-179">Переход на другой ресурс при отказе (буфер, необходимый для отправки сообщения в резервную копию)</span><span class="sxs-lookup"><span data-stu-id="fb3af-179">Failover (buffer in case the message needs to be sent to a backup)</span></span>

- <span data-ttu-id="fb3af-180">System.ServiceModel.Routing.RoutingConfiguration.RouteOnHeadersOnly имеет значение «False» (буфер для представления MessageFilterTable с MessageBuffer, чтобы фильтры могли проверить текст)</span><span class="sxs-lookup"><span data-stu-id="fb3af-180">System.ServiceModel.Routing.RoutingConfiguration.RouteOnHeadersOnly is false (buffer to present the MessageFilterTable with a MessageBuffer so that filters can inspect the body)</span></span>

- <span data-ttu-id="fb3af-181">Динамическая конфигурация</span><span class="sxs-lookup"><span data-stu-id="fb3af-181">Dynamic configuration</span></span>

## <a name="see-also"></a><span data-ttu-id="fb3af-182">См. также</span><span class="sxs-lookup"><span data-stu-id="fb3af-182">See also</span></span>

- [<span data-ttu-id="fb3af-183">Введение в маршрутизацию</span><span class="sxs-lookup"><span data-stu-id="fb3af-183">Routing Introduction</span></span>](routing-introduction.md)
- [<span data-ttu-id="fb3af-184">Контракты маршрутизации</span><span class="sxs-lookup"><span data-stu-id="fb3af-184">Routing Contracts</span></span>](routing-contracts.md)
- [<span data-ttu-id="fb3af-185">Фильтры сообщений</span><span class="sxs-lookup"><span data-stu-id="fb3af-185">Message Filters</span></span>](message-filters.md)
